/**
 * Stock Status Report Screen
 * 
 * @screen CPSSSS01
 * @author liu_yinchuan
 */
CPSSSS01 = {
    xtype : 'gridpanel',
    id : chinaplus.screen.CPSSSS01,
    title : chinaplus.label.CPSSSS01_Label_PageTitle,
    autoScroll : true,
    height : Ext.getCmp('tabpanelId').getHeight() - 30,
    border : true,
    closable : false,
    columnLines : true,
    enableColumnHide : false,
    enableColumnMove : false,
    qtip : true,
    selType : 'cellmodel',
    selModel : Ext.create('Ext.ux.selection.CheckBoxModel', {
        checkOnly : true
    }),
    viewConfig : {
        loadMask : false
    },
    plugins : [ {
        ptype : 'gridheaderfilters',
        allSingleFilter : false
    }, {
        ptype : 'emptystoreview'
    }, {
        ptype : 'headerfiltertoolbar',
        showMore: true
    } ],
    header : false,
    headerPosition : 'bottom',
    columns :
    [  {
            xtype : 'gridcolumn',
            text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_TTCPartsNo + '</div>',
            align : 'left',
            width : 130,
            items : [{
                    xtype : 'header',
                    hidden : true
                }
            ],
            dataIndex : 'ttcPartsNo',
            sortable : false,
            resizable: false,
            filter : 'string'
        },{
            xtype : 'gridcolumn',
            text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_PartsNameInEnglish + '</div>',
            align : 'left',
            width : 200,
            items : [{
                    xtype : 'header',
                    hidden : true
                }
            ],
            dataIndex : 'partsNameEn',
            sortable : false,
            resizable: false,
            filter : 'string'
        },{
            xtype : 'gridcolumn',
            text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_PartsNameInChinese + '</div>',
            align : 'left',
            width : 200,
            items : [{
                    xtype : 'header',
                    hidden : true
                }
            ],
            dataIndex : 'partsNameCn',
            sortable : false,
            filter : 'string'
        },{
            xtype : 'gridcolumn',
            text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_ExpCountry + '</div>',
            align : 'center',
            width : 145,
            items : [{
                    xtype : 'header',
                    hidden : true
                }
            ],
            dataIndex : 'expCounty',
            sortable : false,
            resizable: false,
            filter : {
                type : 'list',
                multiSelect : true,
                optionsStore : TRF.util.createStore(chinaplus.screen.CPSSSS01, 'common/loadActiveRegions', 'Combo', chinaplus.screen.CPSSSS01 + '_exportCountryStore')                 
            }
        },{
            xtype : 'gridcolumn',
            text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_TTCSupplierCode + '</div>',
            align : 'left',
            width : 130,
            items : [{
                    xtype : 'header',
                    hidden : true
                }
            ],
            dataIndex : 'supplierCode',
            sortable : false,
            resizable: false,
            filter : {
                type : 'list',
                multiSelect : true,
                optionsStore : TRF.util.createStore(chinaplus.screen.CPSSSS01, 'common/loadActiveSuppliers', 'Combo', chinaplus.screen.CPSSSS01 + '_TTCSupplierCodeStore')                 
            }
        },{
            xtype : 'gridcolumn',
            text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_SupplierPartsNo + '</div>',
            align : 'left',
            width : 180,
            items : [{
                    xtype : 'header',
                    hidden : true
                }
            ],
            dataIndex : 'supplierPartsNo',
            sortable : false,
            resizable: false,
            filter : 'string'
         },{
            xtype : 'gridcolumn',
            text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_ImpCountry + '</div>',
            align : 'center',
            width : 145,
            items : [{
                    xtype : 'header',
                    hidden : true
                }
            ],
            dataIndex : 'impCountry',
            sortable : false,
            resizable: false,
            filter : {
                type : 'list',
                multiSelect : true,
                optionsStore : TRF.util.createStore(chinaplus.screen.CPSSSS01, 'common/loadActiveRegions', 'Combo', chinaplus.screen.CPSSSS01 + '_ssmsMainRouteStore')            
            }
        },{
            xtype : 'gridcolumn',
            text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_TTCCustomerCode + '</div>',
            align : 'left',
            width : 130,
            items : [{
                    xtype : 'header',
                    hidden : true
                }
            ],
            dataIndex : 'customerCode',
            sortable : false,
            resizable: false,
            filter : {
                type : 'list',
                multiSelect : true,
                optionsStore : TRF.util.createStore(chinaplus.screen.CPSSSS01, 'common/loadOfficeCustomers', 'Combo', chinaplus.screen.CPSSSS01 + '_customerCodeStore')            
            }
        },{
            xtype : 'gridcolumn',
            text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_OldPartNo + '</div>',
            align : 'left',
            width : 130,
            items : [{
                    xtype : 'header',
                    hidden : true
                }
            ],
            dataIndex : 'oldPartsNo',
            sortable : false,
            resizable: false,
            filter : 'string'
        },{
            xtype : 'gridcolumn',
            text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_CustomerPartNo + '</div>',
            align : 'left',
            width : 130,
            items : [{
                    xtype : 'header',
                    hidden : true
                }
            ],
            dataIndex : 'custPartsNo',
            sortable : false,
            resizable: false,
            filter : 'string'
        },{
            xtype : 'gridcolumn',
            text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_CustomerBackNo + '</div>',
            align : 'left',
            width : 130,
            items : [{
                    xtype : 'header',
                    hidden : true
                }
            ],
            dataIndex : 'custBackNo',
            sortable : false,
            resizable: false,
            filter : 'string'
        },{
            xtype : 'gridcolumn',
            text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_BusinessType + '</div>',
            align : 'left',
            width : 145,
            items : [{
                    xtype : 'header',
                    hidden : true
                }
            ],
            dataIndex : 'businessType',
            sortable : false,
            resizable: false,
            renderer : function(value){
                return chinaplus.master.getMasterName(chinaplus.master.consts.TnmCodeCategory_BUSINESS_TYPE, value);
            },
            filter : {
                type : 'list',
                multiSelect : true,
                options : chinaplus.master.getMasterByCategory(chinaplus.master.consts.TnmCodeCategory_BUSINESS_TYPE)
            }  
        },{
            xtype : 'gridcolumn',
            text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_PartsType + '</div>',
            align : 'left',
            width : 145,
            items : [{
                    xtype : 'header',
                    hidden : true
                }
            ],
            dataIndex : 'partsType',
            sortable : false,
            resizable: false,
            renderer : function(value){
                return chinaplus.master.getMasterName(chinaplus.master.consts.TnmCodeCategory_PARTS_TYPE, value);
            },
            filter : {
                type : 'list',
                multiSelect : true,
                options : chinaplus.master.getMasterByCategory(chinaplus.master.consts.TnmCodeCategory_PARTS_TYPE)
            } 
        },{
            xtype : 'gridcolumn',
            text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_SPQ + '</div>',
            align : 'right',
            width : 145,
            items : [{
                    xtype : 'header',
                    hidden : true
                }
            ],
            renderer : function(v, p, r){
                return TRF.util.getDecimalFormatByDigits(v, r.data.digit);
            },
            dataIndex : 'spq',
            sortable : false,
            resizable: false
        },{
            xtype : 'gridcolumn',
            text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_CarModel + '</div>',
            align : 'left',
            width : 145,
            items : [{
                    xtype : 'header',
                    hidden : true
                }
            ],
            dataIndex : 'carModel',
            sortable : false,
            resizable: false,
            filter : 'string'
        },{
            xtype : 'gridcolumn',
            text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_AdjustmentPattern + '</div>',
            align : 'center',
            width : 145,
            items : [{
                    xtype : 'header',
                    hidden : true
                }
            ],
            dataIndex : 'delayAdjustmentPattern',
            sortable : false,
            resizable: false,
            renderer : function(value){
                return chinaplus.master.getMasterName(chinaplus.master.consts.TnmCodeCategory_DELAY_ADJUST, value);
            },
            filter : {
                type : 'list',
                multiSelect : false,
                options : chinaplus.master.getMasterByCategory(chinaplus.master.consts.TnmCodeCategory_DELAY_ADJUST)
            }             
        },{
            xtype : 'gridcolumn',
            text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_ExpBalanceOrder + '</div>',
            style:'background-color:#FFCC00',
            sortable : false,
            columns : [ 
                {
                    xtype : 'gridcolumn',
                    text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_TotalExpBalanceOrder + '</div>',
                    align : 'right',
                    width : 145,
                    items : [{
                            xtype : 'header',
                            hidden : true
                        }
                    ],
                    dataIndex : 'expBalanceQty',
                    style:'background-color:#FFCC00',
                    sortable : false,
                    resizable: false,
                    renderer : function(v, p, r){
                        return TRF.util.getDecimalFormatByDigits(v, r.data.digit);
                    },
                    filter : {
                        type : 'list',
                        multiSelect : false,
                        options : chinaplus.master.getMasterByCategory(chinaplus.master.consts.TnmCodeCategory_HAS_QTY_FLAG)
                    }                                
                },{
                    xtype : 'gridcolumn',
                    text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_TotalOutstandingDeliveryQty + '</div>',
                    align : 'right',
                    width : 145,
                    items : [{
                            xtype : 'header',
                            hidden : true
                        }
                    ],
                    dataIndex : 'expPlanDelayQty',
                    sortable : false, 
                    resizable: false,
                    renderer : function(v, p, r){
                        if(r.data.businessPattern*1 == chinaplus.consts.code.BusinessPattern.VV) {
                            return TRF.util.getDecimalFormatByDigits(v, r.data.digit);
                        } else {
                            p.tdCls='x-grid-record-gray';
                        }
                    },        
                    filter : {
                        type : 'list',
                        multiSelect : false,
                        options : chinaplus.master.getMasterByCategory(chinaplus.master.consts.TnmCodeCategory_HAS_QTY_FLAG)
                    }              
                } , {
                    xtype : 'gridcolumn',
                    text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_TotalFutureDeliveryQty + '</div>',
                    align : 'right',
                    width : 145,
                    items : [{
                            xtype : 'header',
                            hidden : true
                        }
                    ],
                    dataIndex : 'expFuturePlanQty',
                    sortable : false,
                    resizable: false,
                    renderer : function(v, p, r){
                        if(r.data.businessPattern*1 == chinaplus.consts.code.BusinessPattern.VV) {
                            return TRF.util.getDecimalFormatByDigits(v, r.data.digit);
                        } else {
                            p.tdCls='x-grid-record-gray';
                        }
                    },
                    filter : {
                        type : 'list',
                        multiSelect : false,
                        options : chinaplus.master.getMasterByCategory(chinaplus.master.consts.TnmCodeCategory_HAS_QTY_FLAG)
                    } 
                }
            ]
        },{
            xtype : 'gridcolumn',
            text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_ExpWHStock + '</div>',
            style:'background-color:#FF6600',
            sortable : false,
            columns : [ 
                {
                    xtype : 'gridcolumn',
                    text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_TotalStockQty + '</div>',
                    align : 'right',
                    width : 145,
                    items : [{
                            xtype : 'header',
                            hidden : true
                        }
                    ],
                    dataIndex : 'expStockQty',
                    style:'background-color:#FF6600',
                    sortable : false,
                    resizable: false,
                    renderer : function(v, p, r){
                        if(r.data.businessPattern*1 == chinaplus.consts.code.BusinessPattern.VV) {
                            return TRF.util.getDecimalFormatByDigits(v, r.data.digit);
                        } else {
                            p.tdCls='x-grid-record-gray';
                        }
                    },
                    filter : {
                        type : 'list',
                        multiSelect : false,
                        options : chinaplus.master.getMasterByCategory(chinaplus.master.consts.TnmCodeCategory_HAS_QTY_FLAG)
                    } 
                }
            ]
        },{
            xtype : 'gridcolumn',
            text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_OnShipping + '</div>',
            style:'background-color:#00CCFF',
            sortable : false,
            columns : [ 
                {
                    xtype : 'gridcolumn',
                    text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_TotalOnShippingQty + '</div>',
                    align : 'right',
                    width : 145,
                    items : [{
                            xtype : 'header',
                            hidden : true
                        }
                    ],
                    dataIndex : 'expOnshippingQty',
                    style:'background-color:#00CCFF',
                    sortable : false,
                    resizable: false,
                    renderer : function(v, p, r){
                        return TRF.util.getDecimalFormatByDigits(v, r.data.digit);
                    },
                    filter : {
                        type : 'list',
                        multiSelect : false,
                        options : chinaplus.master.getMasterByCategory(chinaplus.master.consts.TnmCodeCategory_HAS_QTY_FLAG)
                    } 
                }
            ]
        },{
            xtype : 'gridcolumn',
            text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_ImpCustomsClearnance + '</div>',
            style:'background-color:#00CC99',
            sortable : false,
            columns : [ 
                {
                    xtype : 'gridcolumn',
                    text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_ImpCustomsQty + '</div>',
                    align : 'right',
                    width : 145,
                    items : [{
                            xtype : 'header',
                            hidden : true
                        }
                    ],
                    dataIndex : 'inRackQty',
                    style:'background-color:#00CC99',
                    sortable : false,
                    resizable: false,
                    renderer : function(v, p, r){
                        // if does not has any in rack qty
                        if(r.data.impStockFlag*1 == chinaplus.consts.code.ImpStockFlag.WITHOUT_CLEARANCE) {
                            p.tdCls='x-grid-record-gray';
                            return "";
                        } else {
                            return TRF.util.getDecimalFormatByDigits(v, r.data.digit);
                        }
                    },
                    filter : {
                        type : 'list',
                        multiSelect : false,
                        options : chinaplus.master.getMasterByCategory(chinaplus.master.consts.TnmCodeCategory_HAS_QTY_FLAG)
                    } 
                }
            ]
        },{
            xtype : 'gridcolumn',
            text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_ImpWHStock + '</div>',
            style:'background-color:#99CC00',
            sortable : false,
            columns : [ 
                {
                    xtype : 'gridcolumn',
                    text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_TotalImportStockQty + '</div>',
                    align : 'right',
                    style:'background-color:#99CC00',
                    width : 145,
                    items : [{
                            xtype : 'header',
                            hidden : true
                        }
                    ],
                    dataIndex : 'totalImportStockQty',
                    sortable : false,
                    resizable: false,
                    renderer : function(v, p, r){
                        return TRF.util.getDecimalFormatByDigits(v, r.data.digit);
                    },
                    filter : {
                        type : 'list',
                        multiSelect : false,
                        options : chinaplus.master.getMasterByCategory(chinaplus.master.consts.TnmCodeCategory_HAS_QTY_FLAG)
                    }
                },{
                    xtype : 'gridcolumn',
                    text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_TotalECIonholdStockQty + '</div>',
                    align : 'right',
                    width : 145,
                    items : [{
                            xtype : 'header',
                            hidden : true
                        }
                    ],
                    dataIndex : 'eciOnholdQty',
                    sortable : false,
                    resizable: false,
                    renderer : function(v, p, r){
                        return TRF.util.getDecimalFormatByDigits(v, r.data.digit);
                    },
                    filter : {
                        type : 'list',
                        multiSelect : false,
                        options : chinaplus.master.getMasterByCategory(chinaplus.master.consts.TnmCodeCategory_HAS_QTY_FLAG)
                    }
                },{
                    xtype : 'gridcolumn',
                    text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_AvailableImportStock + '</div>',
                    align : 'right',
                    width : 145,
                    items : [{
                            xtype : 'header',
                            hidden : true
                        }
                    ],
                    dataIndex : 'impWhsQty',
                    sortable : false,
                    resizable: false,
                    renderer : function(v, p, r){
                        return TRF.util.getDecimalFormatByDigits(v, r.data.digit);
                    },
                    filter : {
                        type : 'list',
                        multiSelect : false,
                        options : chinaplus.master.getMasterByCategory(chinaplus.master.consts.TnmCodeCategory_HAS_QTY_FLAG)
                    }
                },{
                    xtype : 'gridcolumn',
                    text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_PreparededOutbound + '</div>',
                    align : 'right',
                    width : 145,
                    items : [{
                            xtype : 'header',
                            hidden : true
                        }
                    ],
                    dataIndex : 'preparedObQty',
                    sortable : false,
                    resizable: false,
                    renderer : function(v, p, r){
                        return TRF.util.getDecimalFormatByDigits(v, r.data.digit);
                    },
                    filter : {
                        type : 'list',
                        multiSelect : false,
                        options : chinaplus.master.getMasterByCategory(chinaplus.master.consts.TnmCodeCategory_HAS_QTY_FLAG)
                    }
                }
            ]
        },{
            xtype : 'gridcolumn',
            text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_CustomerStock + '</div>',
            style:'background-color:#99FF99',
            sortable : false,
            columns : [ 
                {
                    xtype : 'gridcolumn',
                    text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_TotalCustomerStock + '</div>',
                    align : 'right',
                    style:'background-color:#99FF99',
                    width : 145,
                    items : [{
                            xtype : 'header',
                            hidden : true
                        }
                    ],
                    dataIndex : 'custStockQty',
                    sortable : false,
                    resizable: false,
                    renderer : function(v, p, r){
                        if (r.data.saCustStockFlag*1 == chinaplus.consts.code.CustStockFlag.N) {
                            p.tdCls='x-grid-record-gray';
                            return "";
                        } else {
                            if(v == null || v == "") {
                                p.tdCls='x-grid-record-red-blod';
                                return chinaplus.label.CPSSSS01_Label_NoCustomerStock;
                            } else {
                                return TRF.util.getDecimalFormatByDigits(v, r.data.digit);
                            }
                        }
                    },
                    filter : {
                        type : 'list',
                        multiSelect : false,
                        options : chinaplus.master.getMasterByCategory(chinaplus.master.consts.TnmCodeCategory_HAS_QTY_FLAG)
                    }
                },{
                    xtype : 'gridcolumn',
                    text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_CustomerStockDate + '</div>',
                    align : 'center',
                    width : 145,
                    items : [{
                            xtype : 'header',
                            hidden : true
                        }
                    ],
                    dataIndex : 'endingStockDate',
                    sortable : false,
                    resizable: false,
                    renderer : function(v, p, r){
                        if (r.data.saCustStockFlag*1 == chinaplus.consts.code.CustStockFlag.N) {
                            p.tdCls='x-grid-record-gray';
                        } else if (v == null || v == "") {
                            p.tdCls='x-grid-record-red-blod';
                            return chinaplus.label.CPSSSS01_Label_NoCustomerStock;
                        }
                        return v;
                    },
                    filter : 'date',
                    filterPlugins : [ {
                        ptype : 'datePickerClear'
                    } ]
                }
            ]
        },{
            xtype : 'gridcolumn',
            text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_TotalSupplyChainStockQty + '</div>',
            align : 'right',
            style:'background-color:#FFFF00',
            width : 145,
            items : [{
                    xtype : 'header',
                    hidden : true
                }
            ],
            dataIndex : 'totalSupplyChainQty',
            sortable : false,
            resizable: false,
            renderer : function(v, p, r){
                return TRF.util.getDecimalFormatByDigits(v, r.data.digit);
            },
            filter : {
                type : 'list',
                multiSelect : false,
                options : chinaplus.master.getMasterByCategory(chinaplus.master.consts.TnmCodeCategory_HAS_QTY_FLAG)
            }
        },{
            xtype : 'gridcolumn',
            text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_NotInRundown + '</div>',
            style:'background-color:#A6A6A6',
            sortable : false,
            resizable: false,
            columns : [ 
                {
                    xtype : 'gridcolumn',
                    text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_TotalNotInRundownQty + '</div>',
                    align : 'right',
                    width : 145,
                    items : [{
                            xtype : 'header',
                            hidden : true
                        }
                    ],
                    dataIndex : 'totalNotInRdQty',
                    style:'background-color:#A6A6A6',
                    renderer : function(v, p, r){
                        return TRF.util.getDecimalFormatByDigits(v, r.data.digit);
                    },
                    sortable : false,
                    resizable: false,
                    filter : {
                        type : 'list',
                        multiSelect : false,
                        options : chinaplus.master.getMasterByCategory(chinaplus.master.consts.TnmCodeCategory_HAS_QTY_FLAG)
                    }
                },{
                    xtype : 'gridcolumn',
                    text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_TotalETDDelayQty + '</div>',
                    align : 'right',
                    width : 145,
                    items : [{
                            xtype : 'header',
                            hidden : true
                        }
                    ],
                    dataIndex : 'etdDelayQty',
                    sortable : false,
                    resizable: false,
                    renderer : function(v, p, r){
                        return TRF.util.getDecimalFormatByDigits(v, r.data.digit);
                    },
                    filter : {
                        type : 'list',
                        multiSelect : false,
                        options : chinaplus.master.getMasterByCategory(chinaplus.master.consts.TnmCodeCategory_HAS_QTY_FLAG)
                    }
                },{
                    xtype : 'gridcolumn',
                    text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_TotalInboundDelayQty + '</div>',
                    align : 'right',
                    width : 145,
                    items : [{
                            xtype : 'header',
                            hidden : true
                        }
                    ],
                    dataIndex : 'inboundDelayQty',
                    sortable : false,
                    resizable: false,
                    renderer : function(v, p, r){
                        return TRF.util.getDecimalFormatByDigits(v, r.data.digit);
                    },
                    filter : {
                        type : 'list',
                        multiSelect : false,
                        options : chinaplus.master.getMasterByCategory(chinaplus.master.consts.TnmCodeCategory_HAS_QTY_FLAG)
                    }
                },{
                    xtype : 'gridcolumn',
                    text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_TotalImpOnHoldQty + '</div>',
                    align : 'right',
                    width : 145,
                    items : [{
                            xtype : 'header',
                            hidden : true
                        }
                    ],
                    dataIndex : 'ngOnholdQty',
                    sortable : false,
                    resizable: false,
                    renderer : function(v, p, r){
                        return TRF.util.getDecimalFormatByDigits(v, r.data.digit);
                    },
                    filter : {
                        type : 'list',
                        multiSelect : false,
                        options : chinaplus.master.getMasterByCategory(chinaplus.master.consts.TnmCodeCategory_HAS_QTY_FLAG)
                    }
                }
            ]
        },{
            xtype : 'gridcolumn',
            text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_Alarm1A + '</div>',
            style:'background-color:#00FF00',
            sortable : false,
            columns : [ 
                {
                    xtype : 'gridcolumn',
                    text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_EndofLastdayStockQty_1 + '</div>',
                    align : 'right',
                    width : 145,
                    items : [{
                            xtype : 'header',
                            hidden : true
                        }
                    ],
                    dataIndex : 'stockQty1a',
                    sortable : false,
                    resizable: false,
                    renderer : function(v, p, r){
                        return TRF.util.getDecimalFormatByDigits(v, r.data.digit);
                    },
                    filter : {
                        type : 'list',
                        multiSelect : false,
                        options : chinaplus.master.getMasterByCategory(chinaplus.master.consts.TnmCodeCategory_HAS_QTY_FLAG)
                    }
                },{
                    xtype : 'gridcolumn',
                    text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_StockDays_1 + '</div>',
                    align : 'right',
                    width : 145,
                    items : [{
                            xtype : 'header',
                            hidden : true
                        }
                    ],
                    renderer : function(v, p, r){
                        if (r.data.inventoryBoxFlag*1 == chinaplus.consts.code.InventoryByBox.Y) {
                            p.tdCls='x-grid-record-gray';
                            return "";
                        } else {
                            if (v == null || v == "") {
                                p.tdCls='x-grid-record-red-blod';
                                return chinaplus.label.CPSSSS01_Label_NoCustomerForecast;
                            }
                            if (r.data.noMaster1a*1 == chinaplus.consts.code.NoCfcFlag.Y) {
                                return "> " + TRF.util.getDecimalFormatByDigits(v, 1);
                            }
                        }
                        return TRF.util.getDecimalFormatByDigits(v, 1);
                    },
                    dataIndex : 'stockDays1a',
                    sortable : false,
                    resizable: false,
                    filter : 'number'
                },{
                    xtype : 'gridcolumn',
                    text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_NoofBoxes_1 + '</div>',
                    align : 'right',
                    width : 145,
                    items : [{
                            xtype : 'header',
                            hidden : true
                        }
                    ],
                    dataIndex : 'stockBoxes1a',
                    sortable : false,
                    resizable: false,
                    renderer : function(v, p, r){
                        if (r.data.inventoryBoxFlag*1 == chinaplus.consts.code.InventoryByBox.N) {
                            p.tdCls='x-grid-record-gray';
                            return "";
                        } else {
                            return TRF.util.getDecimalFormatByDigits(v, 2);
                        }
                    },
                    filter : 'number'
                },{
                    xtype : 'gridcolumn',
                    text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_MinAlarmFlag_1 + '</div>',
                    align : 'center',
                    width : 145,
                    items : [{
                            xtype : 'header',
                            hidden : true
                        }
                    ],
                    dataIndex : 'minAlarm1a',
                    sortable : false,
                    resizable: false,
                    renderer : function(v, p, r){
                        if ((r.data.stockDays1a == null || r.data.stockDays1a == "")
                                && (r.data.stockBoxes1a == null || r.data.stockBoxes1a == "")) {
                            p.tdCls='x-grid-record-red-blod';
                            return chinaplus.label.CPSSSS01_Label_NoCustomerForecast;
                        } else {
                            if (v*1 == chinaplus.consts.code.AlarmFlag.Y) {
                                p.tdCls='x-grid-record-red-blod';
                            }
                            return chinaplus.master.getMasterName(chinaplus.master.consts.TnmCodeCategory_ALARM_FLAG, v);
                        }
                    },
                    filter : {
                        type : 'list',
                        multiSelect : false,
                        options : chinaplus.master.getMasterByCategory(chinaplus.master.consts.TnmCodeCategory_ALARM_FLAG)
                    }
                },{
                    xtype : 'gridcolumn',
                    text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_MaxAlarmFlag_1 + '</div>',
                    align : 'center',
                    width : 145,
                    items : [{
                            xtype : 'header',
                            hidden : true
                        }
                    ],
                    dataIndex : 'maxAlarm1a',
                    sortable : false,
                    resizable: false,
                    renderer : function(v, p, r){
                        if ((r.data.stockDays1a == null || r.data.stockDays1a == "")
                                && (r.data.stockBoxes1a == null || r.data.stockBoxes1a == "")) {
                            p.tdCls='x-grid-record-red-blod';
                            return chinaplus.label.CPSSSS01_Label_NoCustomerForecast;
                        } else {
                            if (r.data.maxAlarm1a*1 == chinaplus.consts.code.AlarmFlag.Y) {
                                p.tdCls='x-grid-record-red-blod';
                            }
                            return chinaplus.master.getMasterName(chinaplus.master.consts.TnmCodeCategory_ALARM_FLAG, v);
                        }
                    },
                    filter : {
                        type : 'list',
                        multiSelect : false,
                        options : chinaplus.master.getMasterByCategory(chinaplus.master.consts.TnmCodeCategory_ALARM_FLAG)
                    }
                },{
                    xtype : 'gridcolumn',
                    text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_NextInboundPlan_1 + '</div>',
                    sortable : false,
                    resizable: false,
                    columns : [
                        {
                            xtype : 'gridcolumn',
                            text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_PlanInboundDate_1 + '</div>',
                            align : 'center',
                            width : 145,
                            items : [{
                                    xtype : 'header',
                                    hidden : true
                                }
                            ],
                            dataIndex : 'nextInboundDate',
                            sortable : false,
                            resizable: false,
                            renderer : function(v, p, r){
                                if (v == null || v == "") {
                                    p.tdCls='x-grid-record-gray';
                                } 
                                return v;
                            },
                            filter : 'date',
                            filterPlugins : [ {
                                ptype : 'datePickerClear'
                            } ]
                        },{
                            xtype : 'gridcolumn',
                            text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_Qty_1 + '</div>',
                            align : 'right',
                            width : 145,
                            items : [{
                                    xtype : 'header',
                                    hidden : true
                                }
                            ],
                            dataIndex : 'nextInboundQty',
                            sortable : false,
                            resizable: false,
                            renderer : function(v, p, r){
                                if (v == null || v == "") {
                                    p.tdCls='x-grid-record-gray';
                                } 
                                return TRF.util.getDecimalFormatByDigits(v, r.data.digit);
                            },
                            filter : {
                                type : 'list',
                                multiSelect : false,
                                options : chinaplus.master.getMasterByCategory(chinaplus.master.consts.TnmCodeCategory_HAS_QTY_FLAG)
                            }
                        },{
                            xtype : 'gridcolumn',
                            text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_InvoiceNo_1 + '</div>',
                            align : 'left',
                            width : 145,
                            items : [{
                                    xtype : 'header',
                                    hidden : true
                                }
                            ],
                            renderer : function(v, p, r){
                                if (v == null || v == "") {
                                    p.tdCls='x-grid-record-gray';
                                } 
                                return v;
                            },
                            dataIndex : 'nextInvoice',
                            sortable : false,
                            resizable: false,
                            filter : 'string'
                        },{
                            xtype : 'gridcolumn',
                            text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_StockDaysOfNext_1 + '</div>',
                            align : 'right',
                            width : 145,
                            items : [{
                                    xtype : 'header',
                                    hidden : true
                                }
                            ],
                            dataIndex : 'stockDaysPlan1a',
                            renderer : function(v, p, r){
                                if (r.data.nextInboundDate == null || r.data.nextInboundDate == "") {
                                    p.tdCls='x-grid-record-gray';
                                    return "";
                                } 
                                if (v == null || v == "") {
                                    p.tdCls='x-grid-record-red-blod';
                                    return chinaplus.label.CPSSSS01_Label_NoCustomerForecast;
                                }
                                if (r.data.noMaster1a*1 == chinaplus.consts.code.NoCfcFlag.Y) {
                                    return "> " + TRF.util.getDecimalFormatByDigits(v, 1);
                                }
                                return TRF.util.getDecimalFormatByDigits(v, 1);
                            },
                            sortable : false,
                            resizable: false,
                            filter : 'number'
                        }
                    ]
                }
            ]
        },{
            xtype : 'gridcolumn',
            text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_Alarm1B + '</div>',
            style:'background-color:#00FF00',
            sortable : false,
            columns : [ 
                {
                    xtype : 'gridcolumn',
                    text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_EndofLastdayStockQty_1 + '</div>',
                    align : 'right',
                    width : 145,
                    items : [{
                            xtype : 'header',
                            hidden : true
                        }
                    ],
                    dataIndex : 'stockQty1b',
                    sortable : false,
                    resizable: false,
                    renderer : function(v, p, r){
                        if(r.data.impStockFlag*1 == chinaplus.consts.code.ImpStockFlag.WITHOUT_CLEARANCE) {
                            p.tdCls='x-grid-record-gray';
                            return "";
                        }
                        return TRF.util.getDecimalFormatByDigits(v, r.data.digit);
                    },
                    filter : {
                        type : 'list',
                        multiSelect : false,
                        options : chinaplus.master.getMasterByCategory(chinaplus.master.consts.TnmCodeCategory_HAS_QTY_FLAG)
                    }
                },{
                    xtype : 'gridcolumn',
                    text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_StockDays_1 + '</div>',
                    align : 'right',
                    width : 145,
                    items : [{
                            xtype : 'header',
                            hidden : true
                        }
                    ],
                    dataIndex : 'stockDays1b',
                    sortable : false,
                    resizable: false,
                    renderer : function(v, p, r){
                        if(r.data.impStockFlag*1 == chinaplus.consts.code.ImpStockFlag.WITHOUT_CLEARANCE) {
                            p.tdCls='x-grid-record-gray';
                            return "";
                        }
                        if (r.data.inventoryBoxFlag*1 == chinaplus.consts.code.InventoryByBox.Y) {
                            p.tdCls='x-grid-record-gray';
                            return "";
                        } else {
                            if (v == null || v == "") {
                                p.tdCls='x-grid-record-red-blod';
                                return chinaplus.label.CPSSSS01_Label_NoCustomerForecast;
                            }
                            if (r.data.noMaster1b*1 == chinaplus.consts.code.NoCfcFlag.Y) {
                                return "> " + TRF.util.getDecimalFormatByDigits(v, 1);
                            }
                        }
                        return TRF.util.getDecimalFormatByDigits(v, 1);
                    },
                    filter : 'number'
                },{
                    xtype : 'gridcolumn',
                    text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_NoofBoxes_1 + '</div>',
                    align : 'right',
                    width : 145,
                    items : [{
                            xtype : 'header',
                            hidden : true
                        }
                    ],
                    dataIndex : 'stockBoxes1b',
                    sortable : false,
                    resizable: false,
                    renderer : function(v, p, r){
                        if(r.data.impStockFlag*1 == chinaplus.consts.code.ImpStockFlag.WITHOUT_CLEARANCE) {
                            p.tdCls='x-grid-record-gray';
                            return "";
                        }
                        if (r.data.inventoryBoxFlag*1 == chinaplus.consts.code.InventoryByBox.N) {
                            p.tdCls='x-grid-record-gray';
                            return "";
                        } else {
                            return TRF.util.getDecimalFormatByDigits(v, 2);
                        }
                    },
                    filter : 'number'
                },{
                    xtype : 'gridcolumn',
                    text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_MinAlarmFlag_1 + '</div>',
                    align : 'center',
                    width : 145,
                    items : [{
                            xtype : 'header',
                            hidden : true
                        }
                    ],
                    dataIndex : 'minAlarm1b',
                    sortable : false,
                    resizable: false,
                    renderer : function(v, p, r){
                        if(r.data.impStockFlag*1 == chinaplus.consts.code.ImpStockFlag.WITHOUT_CLEARANCE) {
                            p.tdCls='x-grid-record-gray';
                            return "";
                        }
                        if ((r.data.stockDays1b == null || r.data.stockDays1b == "")
                                && (r.data.stockBoxes1b == null || r.data.stockBoxes1b == "")) {
                            p.tdCls='x-grid-record-red-blod';
                            return chinaplus.label.CPSSSS01_Label_NoCustomerForecast;
                        } else {
                            if (v*1 == chinaplus.consts.code.AlarmFlag.Y) {
                                p.tdCls='x-grid-record-red-blod';
                            }
                            return chinaplus.master.getMasterName(chinaplus.master.consts.TnmCodeCategory_ALARM_FLAG, v);
                        }
                    },
                    filter : {
                        type : 'list',
                        multiSelect : false,
                        options : chinaplus.master.getMasterByCategory(chinaplus.master.consts.TnmCodeCategory_ALARM_FLAG)
                    }
                },{
                    xtype : 'gridcolumn',
                    text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_MaxAlarmFlag_1 + '</div>',
                    align : 'center',
                    width : 145,
                    items : [{
                            xtype : 'header',
                            hidden : true
                        }
                    ],
                    dataIndex : 'maxAlarm1b',
                    sortable : false,
                    resizable: false,
                    renderer : function(v, p, r){
                        if(r.data.impStockFlag*1 == chinaplus.consts.code.ImpStockFlag.WITHOUT_CLEARANCE) {
                            p.tdCls='x-grid-record-gray';
                            return "";
                        }
                        if ((r.data.stockDays1b == null || r.data.stockDays1b == "")
                                && (r.data.stockBoxes1b == null || r.data.stockBoxes1b == "")) {
                            p.tdCls='x-grid-record-red-blod';
                            return chinaplus.label.CPSSSS01_Label_NoCustomerForecast;
                        } else {
                            if (r.data.maxAlarm1b*1 == chinaplus.consts.code.AlarmFlag.Y) {
                                p.tdCls='x-grid-record-red-blod';
                            }
                            return chinaplus.master.getMasterName(chinaplus.master.consts.TnmCodeCategory_ALARM_FLAG, v);
                        }
                    },
                    filter : {
                        type : 'list',
                        multiSelect : false,
                        options : chinaplus.master.getMasterByCategory(chinaplus.master.consts.TnmCodeCategory_ALARM_FLAG)
                    }
                },{
                    xtype : 'gridcolumn',
                    text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_NextInboundPlan_1 + '</div>',
                    sortable : false,
                    resizable: false,
                    columns : [
                        {
                            xtype : 'gridcolumn',
                            text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_PlanInboundDate_1 + '</div>',
                            align : 'center',
                            width : 145,
                            items : [{
                                    xtype : 'header',
                                    hidden : true
                                }
                            ],
                            dataIndex : 'nextInboundDate',
                            sortable : false,
                            resizable: false,
                            renderer : function(v, p, r){
                                if(r.data.impStockFlag*1 == chinaplus.consts.code.ImpStockFlag.WITHOUT_CLEARANCE) {
                                    p.tdCls='x-grid-record-gray';
                                    return "";
                                }
                                if (v == null || v == "") {
                                    p.tdCls='x-grid-record-gray';
                                } 
                                return v;
                            },
                            filter : 'date',
                            filterPlugins : [ {
                                ptype : 'datePickerClear'
                            } ]
                        },{
                            xtype : 'gridcolumn',
                            text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_Qty_1 + '</div>',
                            align : 'left',
                            width : 145,
                            items : [{
                                    xtype : 'header',
                                    hidden : true
                                }
                            ],
                            dataIndex : 'nextInboundQty',
                            sortable : false,
                            resizable: false,
                            renderer : function(v, p, r){
                                if(r.data.impStockFlag*1 == chinaplus.consts.code.ImpStockFlag.WITHOUT_CLEARANCE) {
                                    p.tdCls='x-grid-record-gray';
                                    return "";
                                }
                                if (v == null || v == "") {
                                    p.tdCls='x-grid-record-gray';
                                } 
                                return TRF.util.getDecimalFormatByDigits(v, r.data.digit);
                            },
                            filter : {
                                type : 'list',
                                multiSelect : false,
                                options : chinaplus.master.getMasterByCategory(chinaplus.master.consts.TnmCodeCategory_HAS_QTY_FLAG)
                            }
                        },{
                            xtype : 'gridcolumn',
                            text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_InvoiceNo_1 + '</div>',
                            align : 'right',
                            width : 145,
                            items : [{
                                    xtype : 'header',
                                    hidden : true
                                }
                            ],
                            dataIndex : 'nextInvoice',
                            sortable : false,
                            resizable: false,
                            renderer : function(v, p, r){
                                if (r.data.impStockFlag*1 == chinaplus.consts.code.ImpStockFlag.WITHOUT_CLEARANCE) {
                                    p.tdCls='x-grid-record-gray';
                                    return "";
                                }
                                if (v == null || v == "") {
                                    p.tdCls='x-grid-record-gray';
                                } 
                                return v;
                            },
                            filter : 'string'
                        },{
                            xtype : 'gridcolumn',
                            text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_StockDaysOfNext_1 + '</div>',
                            align : 'right',
                            width : 145,
                            items : [{
                                    xtype : 'header',
                                    hidden : true
                                }
                            ],
                            dataIndex : 'stockDaysPlan1b',
                            sortable : false,
                            resizable: false,
                            renderer : function(v, p, r){
                                if (r.data.impStockFlag*1 == chinaplus.consts.code.ImpStockFlag.WITHOUT_CLEARANCE) {
                                    p.tdCls='x-grid-record-gray';
                                    return "";
                                }
                                if (r.data.nextInboundDate == null || r.data.nextInboundDate == "") {
                                    p.tdCls='x-grid-record-gray';
                                    return "";
                                }
                                if (v == null || v == "") {
                                    p.tdCls='x-grid-record-red-blod';
                                    return chinaplus.label.CPSSSS01_Label_NoCustomerForecast;
                                }
                                if (r.data.noMaster1b*1 == chinaplus.consts.code.NoCfcFlag.Y) {
                                    return "> " + TRF.util.getDecimalFormatByDigits(v, 1);
                                }
                                return TRF.util.getDecimalFormatByDigits(v, 1);
                            },
                            filter : 'number'
                        }
                    ]
                }
            ]
        },{
            xtype : 'gridcolumn',
            text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_Alarm2 + '</div>',
            style:'background-color:#00FF00',
            sortable : false,
            columns : [
                {
                    xtype : 'gridcolumn',
                    text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_TargetMonth + '</div>',
                    style:'background-color:#00FF00',
                    sortable : false,
                    resizable: false,
                    columns : [
                        {
                            xtype : 'gridcolumn',
                            text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_SimulationEndDate_2 + '</div>',
                            align : 'center',
                            width : 145,
                            items : [{
                                    xtype : 'header',
                                    hidden : true
                                }
                            ],
                            dataIndex : 'endDateTm',
                            sortable : false,
                            resizable: false,
                            filter : 'date',
                            filterPlugins : [ {
                                ptype : 'datePickerClear'
                            } ]
                        },{
                            xtype : 'gridcolumn',
                            text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_ShortageDate_2 + '</div>',
                            align : 'center',
                            width : 145,
                            items : [{
                                    xtype : 'header',
                                    hidden : true
                                }
                            ],
                            dataIndex : 'shortageDateTm',
                            sortable : false,
                            resizable: false,
                            renderer : function(v, p, r){
                                p.tdCls='x-grid-record-red-blod';
                                if (v == null || v == "") {
                                    if(r.data.endCfcDate == null || r.data.endCfcDate < r.data.endDateTmComp) {
                                        return chinaplus.label.CPSSSS01_Label_NoCustomerForecast;
                                    }
                                }
                                return v;
                            },
                            filter : 'date',
                            filterPlugins : [ {
                                ptype : 'datePickerClear'
                            } ]
                        },{
                            xtype : 'gridcolumn',
                            text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_MinAlarmFlag_2 + '</div>',
                            align : 'center',
                            width : 145,
                            items : [{
                                    xtype : 'header',
                                    hidden : true
                                }
                            ],
                            dataIndex : 'minAlarmTm',
                            renderer : function(v, p, r){
                                if (v == null || v == "") {
                                    p.tdCls='x-grid-record-red-blod';
                                    return chinaplus.label.CPSSSS01_Label_NoCustomerForecast;
                                } else {
                                    if(v*1 == chinaplus.consts.code.AlarmFlag.Y) {
                                        p.tdCls='x-grid-record-red-blod';
                                    }
                                    return chinaplus.master.getMasterName(chinaplus.master.consts.TnmCodeCategory_ALARM_FLAG, v);
                                }
                            },
                            sortable : false,
                            resizable: false,
                            filter : {
                                type : 'list',
                                multiSelect : false,
                                options : chinaplus.master.getMasterByCategory(chinaplus.master.consts.TnmCodeCategory_ALARM_FLAG)
                            }
                        },{
                            xtype : 'gridcolumn',
                            text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_MaxAlarmFlag_2 + '</div>',
                            align : 'center',
                            width : 145,
                            items : [{
                                    xtype : 'header',
                                    hidden : true
                                }
                            ],
                            dataIndex : 'maxAlarmTm',
                            renderer : function(v, p, r){
                                if (v == null || v == "") {
                                    p.tdCls='x-grid-record-red-blod';
                                    return chinaplus.label.CPSSSS01_Label_NoCustomerForecast;
                                } else {
                                    if(v*1 == chinaplus.consts.code.AlarmFlag.Y) {
                                        p.tdCls='x-grid-record-red-blod';
                                    }
                                    return chinaplus.master.getMasterName(chinaplus.master.consts.TnmCodeCategory_ALARM_FLAG, v);
                                }
                            },
                            sortable : false,
                            resizable: false,
                            filter : {
                                type : 'list',
                                multiSelect : false,
                                options : chinaplus.master.getMasterByCategory(chinaplus.master.consts.TnmCodeCategory_ALARM_FLAG)
                            }
                        },{
                            xtype : 'gridcolumn',
                            text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_LowestStockDays_2 + '</div>',
                            align : 'right',
                            width : 145,
                            items : [{
                                    xtype : 'header',
                                    hidden : true
                                }
                            ],
                            dataIndex : 'minStockDayTm',
                            renderer : function(v, p, r){
                                if (r.data.inventoryBoxFlag*1 == chinaplus.consts.code.InventoryByBox.Y) {
                                    p.tdCls='x-grid-record-gray';
                                    return "";
                                } else {
                                    if (v == null || v == "") {
                                        p.tdCls='x-grid-record-red-blod';
                                        return chinaplus.label.CPSSSS01_Label_NoCustomerForecast;
                                    } else {
                                        if(r.data.noMasterMinTm*1 == chinaplus.consts.code.NoCfcFlag.Y) {
                                            return "> " + TRF.util.getDecimalFormatByDigits(v, 1);
                                        }
                                    }
                                }
                                return TRF.util.getDecimalFormatByDigits(v, 1);
                            },
                            sortable : false,
                            resizable: false,
                            filter : 'number'
                        },{
                            xtype : 'gridcolumn',
                            text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_HighestStockDays_2 + '</div>',
                            align : 'right',
                            width : 145,
                            items : [{
                                    xtype : 'header',
                                    hidden : true
                                }
                            ],
                            dataIndex : 'maxStockDayTm',
                            renderer : function(v, p, r){
                                if (r.data.inventoryBoxFlag*1 == chinaplus.consts.code.InventoryByBox.Y) {
                                    p.tdCls='x-grid-record-gray';
                                    return "";
                                } else {
                                    if (v == null || v == "") {
                                        p.tdCls='x-grid-record-red-blod';
                                        return chinaplus.label.CPSSSS01_Label_NoCustomerForecast;
                                    } else {
                                        if(r.data.noMasterMaxTm*1 == chinaplus.consts.code.NoCfcFlag.Y) {
                                            return "> " + TRF.util.getDecimalFormatByDigits(v, 1);
                                        }
                                    }
                                }
                                return TRF.util.getDecimalFormatByDigits(v, 1);
                            },
                            sortable : false,
                            resizable: false,
                            filter : 'number'
                        },{
                            xtype : 'gridcolumn',
                            text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_LowestNoofBoxes_2 + '</div>',
                            align : 'right',
                            width : 145,
                            items : [{
                                    xtype : 'header',
                                    hidden : true
                                }
                            ],
                            dataIndex : 'minBoxesTm',
                            renderer : function(v, p, r){
                                if (r.data.inventoryBoxFlag*1 == chinaplus.consts.code.InventoryByBox.N) {
                                    p.tdCls='x-grid-record-gray';
                                    return "";
                                } else {
                                    if (v == null || v == "") {
                                        p.tdCls='x-grid-record-red-blod';
                                        return chinaplus.label.CPSSSS01_Label_NoCustomerForecast;
                                    }
                                }
                                return TRF.util.getDecimalFormatByDigits(v, 2);
                            },
                            sortable : false,
                            resizable: false,
                            filter : 'number'
                        },{
                            xtype : 'gridcolumn',
                            text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_HighestNoofBoxes_2 + '</div>',
                            align : 'right',
                            width : 145,
                            items : [{
                                    xtype : 'header',
                                    hidden : true
                                }
                            ],
                            dataIndex : 'maxBoxesTm',
                            sortable : false,
                            resizable: false,
                            renderer : function(v, p, r){
                                if (r.data.inventoryBoxFlag*1 == chinaplus.consts.code.InventoryByBox.N) {
                                    p.tdCls='x-grid-record-gray';
                                    return "";
                                } else {
                                    if (v == null || v == "") {
                                        p.tdCls='x-grid-record-red-blod';
                                        return chinaplus.label.CPSSSS01_Label_NoCustomerForecast;
                                    }
                                }
                                return TRF.util.getDecimalFormatByDigits(v, 2);
                            },
                            filter : 'number'
                        },{
                            xtype : 'gridcolumn',
                            text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_PartRemark_2 + '</div>',
                            align : 'left',
                            width : 145,
                            items : [{
                                    xtype : 'header',
                                    hidden : true
                                }
                            ],
                            dataIndex : 'partsRemark',
                            sortable : false,
                            resizable: false,
                            filter : 'string'
                        },{
                            xtype : 'gridcolumn',
                            text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_RundownRemark_2 + '</div>',
                            align : 'left',
                            width : 145,
                            items : [{
                                    xtype : 'header',
                                    hidden : true
                                }
                            ],
                            dataIndex : 'rundownRemark',
                            sortable : false,
                            resizable: false,
                            filter : 'string'
                        }
                    ]
                }, {
                    xtype : 'gridcolumn',
                    text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_Forecast + ' 1' + '</div>',
                    style:'background-color:#00FF00',
                    sortable : false,
                    resizable: false,
                    columns : [
                        {
                            xtype : 'gridcolumn',
                            text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_SimulationEndDate_F + '</div>',
                            align : 'center',
                            width : 145,
                            items : [{
                                    xtype : 'header',
                                    hidden : true
                                }
                            ],
                            dataIndex : 'endDateF1',
                            sortable : false,
                            resizable: false,
                            renderer : function(v, p, r){
                                if (v == null || v == "") {
                                    p.tdCls='x-grid-record-gray';
                                }
                                return v;
                            },
                            filter : 'date',
                            filterPlugins : [ {
                                ptype : 'datePickerClear'
                            } ]
                        },{
                            xtype : 'gridcolumn',
                            text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_ShortageDate_F + '</div>',
                            align : 'center',
                            width : 145,
                            items : [{
                                    xtype : 'header',
                                    hidden : true
                                }
                            ],
                            dataIndex : 'shortageDateF1',
                            sortable : false,
                            resizable: false,
                            renderer : function(v, p, r){
                                if (r.data.endDateF1 == null || r.data.endDateF1 == "") {
                                    p.tdCls='x-grid-record-gray';
                                    return "";
                                }
                                p.tdCls='x-grid-record-red-blod';
                                if (v == null || v == "") {
                                    if (r.data.noCfcFlagF1*1 == chinaplus.consts.code.NoCfcFlag.Y
                                         && r.data.noPfcFlagF1*1 == chinaplus.consts.code.NoPfcFlag.Y) {
                                        return chinaplus.label.CPSSSS01_Label_NoOrderCustomerForecast;
                                    } else if(r.data.noCfcFlagF1*1 == chinaplus.consts.code.NoCfcFlag.Y) {
                                        return chinaplus.label.CPSSSS01_Label_NoCustomerForecast;
                                    } else if(r.data.noPfcFlagF1*1 == chinaplus.consts.code.NoPfcFlag.Y) {
                                        return chinaplus.label.CPSSSS01_Label_NoOrderForecast;
                                    }
                                }
                                return v;
                            },
                            filter : 'date',
                            filterPlugins : [ {
                                ptype : 'datePickerClear'
                            } ]
                        },{
                            xtype : 'gridcolumn',
                            text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_MinAlarmFlag_F + '</div>',
                            align : 'center',
                            width : 145,
                            items : [{
                                    xtype : 'header',
                                    hidden : true
                                }
                            ],
                            dataIndex : 'minAlarmF1',
                            sortable : false,
                            resizable: false,
                            renderer : function(v, p, r){
                                if (r.data.endDateF1 == null || r.data.endDateF1 == "") {
                                    p.tdCls='x-grid-record-gray';
                                    return "";
                                }
                                if (v == null || v == "") {
                                    p.tdCls='x-grid-record-red-blod';
                                    if (r.data.noCfcFlagF1*1 == chinaplus.consts.code.NoCfcFlag.Y
                                         && r.data.noPfcFlagF1*1 == chinaplus.consts.code.NoPfcFlag.Y) {
                                        return chinaplus.label.CPSSSS01_Label_NoOrderCustomerForecast;
                                    } else if(r.data.noCfcFlagF1*1 == chinaplus.consts.code.NoCfcFlag.Y) {
                                        return chinaplus.label.CPSSSS01_Label_NoCustomerForecast;
                                    } else if(r.data.noPfcFlagF1*1 == chinaplus.consts.code.NoPfcFlag.Y) {
                                        return chinaplus.label.CPSSSS01_Label_NoOrderForecast;
                                    } else {
                                        return "";
                                    }
                                } else {
                                    if(v*1 == chinaplus.consts.code.AlarmFlag.Y) {
                                        p.tdCls='x-grid-record-red-blod';
                                    }
                                    return chinaplus.master.getMasterName(chinaplus.master.consts.TnmCodeCategory_ALARM_FLAG, v);
                                }
                            },
                            filter : {
                                type : 'list',
                                multiSelect : false,
                                options : chinaplus.master.getMasterByCategory(chinaplus.master.consts.TnmCodeCategory_ALARM_FLAG)
                            }
                        },{
                            xtype : 'gridcolumn',
                            text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_MaxAlarmFlag_F + '</div>',
                            align : 'center',
                            width : 145,
                            items : [{
                                    xtype : 'header',
                                    hidden : true
                                }
                            ],
                            dataIndex : 'maxAlarmF1',
                            sortable : false,
                            resizable: false,
                            renderer : function(v, p, r){
                                if (r.data.endDateF1 == null || r.data.endDateF1 == "") {
                                    p.tdCls='x-grid-record-gray';
                                    return "";
                                }
                                if (v == null || v == "") {
                                    p.tdCls='x-grid-record-red-blod';
                                    if (r.data.noCfcFlagF1*1 == chinaplus.consts.code.NoCfcFlag.Y
                                         && r.data.noPfcFlagF1*1 == chinaplus.consts.code.NoPfcFlag.Y) {
                                        return chinaplus.label.CPSSSS01_Label_NoOrderCustomerForecast;
                                    } else if(r.data.noCfcFlagF1*1 == chinaplus.consts.code.NoCfcFlag.Y) {
                                        return chinaplus.label.CPSSSS01_Label_NoCustomerForecast;
                                    } else if(r.data.noPfcFlagF1*1 == chinaplus.consts.code.NoPfcFlag.Y) {
                                        return chinaplus.label.CPSSSS01_Label_NoOrderForecast;
                                    } else {
                                        return "";
                                    }
                                } else {
                                    if(v*1 == chinaplus.consts.code.AlarmFlag.Y) {
                                        p.tdCls='x-grid-record-red-blod';
                                    }
                                    return chinaplus.master.getMasterName(chinaplus.master.consts.TnmCodeCategory_ALARM_FLAG, v);
                                }
                            },
                            filter : {
                                type : 'list',
                                multiSelect : false,
                                options : chinaplus.master.getMasterByCategory(chinaplus.master.consts.TnmCodeCategory_ALARM_FLAG)
                            }
                        },{
                            xtype : 'gridcolumn',
                            text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_LowestStockDays_F + '</div>',
                            align : 'right',
                            width : 145,
                            items : [{
                                    xtype : 'header',
                                    hidden : true
                                }
                            ],
                            dataIndex : 'minStockDayF1',
                            sortable : false,
                            resizable: false,
                            renderer : function(v, p, r){
                                if (r.data.inventoryBoxFlag*1 == chinaplus.consts.code.InventoryByBox.Y) {
                                    p.tdCls='x-grid-record-gray';
                                    return "";
                                } else {
                                    if (r.data.endDateF1 == null || r.data.endDateF1 == "") {
                                        p.tdCls='x-grid-record-gray';
                                        return "";
                                    }
                                    if (v == null || v == "") {
                                        if (r.data.noCfcFlagF1*1 == chinaplus.consts.code.NoCfcFlag.Y
                                             && r.data.noPfcFlagF1*1 == chinaplus.consts.code.NoPfcFlag.Y) {
                                            p.tdCls='x-grid-record-red-blod';
                                            return chinaplus.label.CPSSSS01_Label_NoOrderCustomerForecast;
                                        } else if(r.data.noCfcFlagF1*1 == chinaplus.consts.code.NoCfcFlag.Y) {
                                            p.tdCls='x-grid-record-red-blod';
                                            return chinaplus.label.CPSSSS01_Label_NoCustomerForecast;
                                        } else if(r.data.noPfcFlagF1*1 == chinaplus.consts.code.NoPfcFlag.Y) {
                                            p.tdCls='x-grid-record-red-blod';
                                            return chinaplus.label.CPSSSS01_Label_NoOrderForecast;
                                        } else {
                                            return "";
                                        }
                                    } else {
                                        if(r.data.noPfcMinF1*1 == chinaplus.consts.code.NoCfcFlag.N) {
                                            return TRF.util.getDecimalFormatByDigits(v, 1);
                                        } else {
                                            return "> " + TRF.util.getDecimalFormatByDigits(v, 1);
                                        }
                                    }
                                }
                            },
                            filter : 'number'
                        },{
                            xtype : 'gridcolumn',
                            text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_HighestStockDays_F + '</div>',
                            align : 'right',
                            width : 145,
                            items : [{
                                    xtype : 'header',
                                    hidden : true
                                }
                            ],
                            dataIndex : 'maxStockDayF1',
                            sortable : false,
                            resizable: false,
                            renderer : function(v, p, r){
                                if (r.data.inventoryBoxFlag*1 == chinaplus.consts.code.InventoryByBox.Y) {
                                    p.tdCls='x-grid-record-gray';
                                    return "";
                                } else {
                                    if (r.data.endDateF1 == null || r.data.endDateF1 == "") {
                                        p.tdCls='x-grid-record-gray';
                                        return "";
                                    }
                                    if (v == null || v == "") {
                                        if (r.data.noCfcFlagF1*1 == chinaplus.consts.code.NoCfcFlag.Y
                                             && r.data.noPfcFlagF1*1 == chinaplus.consts.code.NoPfcFlag.Y) {
                                            p.tdCls='x-grid-record-red-blod';
                                            return chinaplus.label.CPSSSS01_Label_NoOrderCustomerForecast;
                                        } else if(r.data.noCfcFlagF1*1 == chinaplus.consts.code.NoCfcFlag.Y) {
                                            p.tdCls='x-grid-record-red-blod';
                                            return chinaplus.label.CPSSSS01_Label_NoCustomerForecast;
                                        } else if(r.data.noPfcFlagF1*1 == chinaplus.consts.code.NoPfcFlag.Y) {
                                            p.tdCls='x-grid-record-red-blod';
                                            return chinaplus.label.CPSSSS01_Label_NoOrderForecast;
                                        } else {
                                            return "";
                                        }
                                    } else {
                                        if(r.data.noPfcMaxF1*1 == chinaplus.consts.code.NoCfcFlag.N) {
                                            return TRF.util.getDecimalFormatByDigits(v, 1);
                                        } else {
                                            return "> " + TRF.util.getDecimalFormatByDigits(v, 1);
                                        }
                                    }
                                }
                            },
                            filter : 'number'
                        },{
                            xtype : 'gridcolumn',
                            text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_LowestNoofBoxes_F + '</div>',
                            align : 'right',
                            width : 145,
                            items : [{
                                    xtype : 'header',
                                    hidden : true
                                }
                            ],
                            dataIndex : 'minBoxesF1',
                            renderer : function(v, p, r){
                                if (r.data.inventoryBoxFlag*1 == chinaplus.consts.code.InventoryByBox.N) {
                                    p.tdCls='x-grid-record-gray';
                                    return "";
                                } else {
                                    if (r.data.endDateF1 == null || r.data.endDateF1 == "") {
                                        p.tdCls='x-grid-record-gray';
                                        return "";
                                    }
                                    if (v == null || v == "") {
                                        if (r.data.noCfcFlagF1*1 == chinaplus.consts.code.NoCfcFlag.Y
                                             && r.data.noPfcFlagF1*1 == chinaplus.consts.code.NoPfcFlag.Y) {
                                            p.tdCls='x-grid-record-red-blod';
                                            return chinaplus.label.CPSSSS01_Label_NoOrderCustomerForecast;
                                        } else if(r.data.noCfcFlagF1*1 == chinaplus.consts.code.NoCfcFlag.Y) {
                                            p.tdCls='x-grid-record-red-blod';
                                            return chinaplus.label.CPSSSS01_Label_NoCustomerForecast;
                                        } else if(r.data.noPfcFlagF1*1 == chinaplus.consts.code.NoPfcFlag.Y) {
                                            p.tdCls='x-grid-record-red-blod';
                                            return chinaplus.label.CPSSSS01_Label_NoOrderForecast;
                                        } else {
                                            return "";
                                        }
                                    }
                                }
                                return TRF.util.getDecimalFormatByDigits(v, 2);
                            },
                            sortable : false,
                            resizable: false,
                            filter : 'number'
                        },{
                            xtype : 'gridcolumn',
                            text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_HighestNoofBoxes_F + '</div>',
                            align : 'right',
                            width : 145,
                            items : [{
                                    xtype : 'header',
                                    hidden : true
                                }
                            ],
                            dataIndex : 'maxBoxesF1',
                            sortable : false,
                            resizable: false,
                            renderer : function(v, p, r){
                                if (r.data.inventoryBoxFlag*1 == chinaplus.consts.code.InventoryByBox.N) {
                                    p.tdCls='x-grid-record-gray';
                                    return "";
                                } else {
                                    if (r.data.endDateF1 == null || r.data.endDateF1 == "") {
                                        p.tdCls='x-grid-record-gray';
                                        return "";
                                    }
                                    if (v == null || v == "") {
                                        if (r.data.noCfcFlagF1*1 == chinaplus.consts.code.NoCfcFlag.Y
                                             && r.data.noPfcFlagF1*1 == chinaplus.consts.code.NoPfcFlag.Y) {
                                            p.tdCls='x-grid-record-red-blod';
                                            return chinaplus.label.CPSSSS01_Label_NoOrderCustomerForecast;
                                        } else if(r.data.noCfcFlagF1*1 == chinaplus.consts.code.NoCfcFlag.Y) {
                                            p.tdCls='x-grid-record-red-blod';
                                            return chinaplus.label.CPSSSS01_Label_NoCustomerForecast;
                                        } else if(r.data.noPfcFlagF1*1 == chinaplus.consts.code.NoPfcFlag.Y) {
                                            p.tdCls='x-grid-record-red-blod';
                                            return chinaplus.label.CPSSSS01_Label_NoOrderForecast;
                                        } else {
                                            return "";
                                        }
                                    }
                                }
                                return TRF.util.getDecimalFormatByDigits(v, 2);
                            },
                            filter : 'number'
                        }
                    ]
                } ,{
                    xtype : 'gridcolumn',
                    text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_Forecast + ' 2' + '</div>',
                    style:'background-color:#00FF00',
                    sortable : false,
                    columns : [
                        {
                            xtype : 'gridcolumn',
                            text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_SimulationEndDate_F + '</div>',
                            align : 'center',
                            width : 145,
                            items : [{
                                    xtype : 'header',
                                    hidden : true
                                }
                            ],
                            dataIndex : 'endDateF2',
                            sortable : false,
                            resizable: false,
                            renderer : function(v, p, r){
                                if (v == null || v == "") {
                                    p.tdCls='x-grid-record-gray';
                                }
                                return v;
                            },
                            filter : 'date',
                            filterPlugins : [ {
                                ptype : 'datePickerClear'
                            } ]
                        },{
                            xtype : 'gridcolumn',
                            text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_ShortageDate_F + '</div>',
                            align : 'center',
                            width : 145,
                            items : [{
                                    xtype : 'header',
                                    hidden : true
                                }
                            ],
                            dataIndex : 'shortageDateF2',
                            sortable : false,
                            resizable: false,
                            renderer : function(v, p, r){
                                if (r.data.endDateF2 == null || r.data.endDateF2 == "") {
                                    p.tdCls='x-grid-record-gray';
                                    return "";
                                }
                                p.tdCls='x-grid-record-red-blod';
                                if (v == null || v == "") {
                                    if (r.data.noCfcFlagF2*1 == chinaplus.consts.code.NoCfcFlag.Y
                                         && r.data.noPfcFlagF2*1 == chinaplus.consts.code.NoPfcFlag.Y) {
                                        return chinaplus.label.CPSSSS01_Label_NoOrderCustomerForecast;
                                    } else if(r.data.noCfcFlagF2*1 == chinaplus.consts.code.NoCfcFlag.Y) {
                                        return chinaplus.label.CPSSSS01_Label_NoCustomerForecast;
                                    } else if(r.data.noPfcFlagF2*1 == chinaplus.consts.code.NoPfcFlag.Y) {
                                        return chinaplus.label.CPSSSS01_Label_NoOrderForecast;
                                    }
                                }
                                return v;
                            },
                            filter : 'date',
                            filterPlugins : [ {
                                ptype : 'datePickerClear'
                            } ]
                        },{
                            xtype : 'gridcolumn',
                            text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_MinAlarmFlag_F + '</div>',
                            align : 'center',
                            width : 145,
                            items : [{
                                    xtype : 'header',
                                    hidden : true
                                }
                            ],
                            dataIndex : 'minAlarmF2',
                            sortable : false,
                            resizable: false,
                            renderer : function(v, p, r){
                                if (r.data.endDateF2 == null || r.data.endDateF2 == "") {
                                    p.tdCls='x-grid-record-gray';
                                    return "";
                                }
                                if (v == null || v == "") {
                                    p.tdCls='x-grid-record-red-blod';
                                    if (r.data.noCfcFlagF2*1 == chinaplus.consts.code.NoCfcFlag.Y
                                         && r.data.noPfcFlagF2*1 == chinaplus.consts.code.NoPfcFlag.Y) {
                                        return chinaplus.label.CPSSSS01_Label_NoOrderCustomerForecast;
                                    } else if(r.data.noCfcFlagF2*1 == chinaplus.consts.code.NoCfcFlag.Y) {
                                        return chinaplus.label.CPSSSS01_Label_NoCustomerForecast;
                                    } else if(r.data.noPfcFlagF2*1 == chinaplus.consts.code.NoPfcFlag.Y) {
                                        return chinaplus.label.CPSSSS01_Label_NoOrderForecast;
                                    } else {
                                        return "";
                                    }
                                } else {
                                    if(v*1 == chinaplus.consts.code.AlarmFlag.Y) {
                                        p.tdCls='x-grid-record-red-blod';
                                    }
                                    return chinaplus.master.getMasterName(chinaplus.master.consts.TnmCodeCategory_ALARM_FLAG, v);
                                }
                            },
                            filter : {
                                type : 'list',
                                multiSelect : false,
                                options : chinaplus.master.getMasterByCategory(chinaplus.master.consts.TnmCodeCategory_ALARM_FLAG)
                            }
                        },{
                            xtype : 'gridcolumn',
                            text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_MaxAlarmFlag_F + '</div>',
                            align : 'center',
                            width : 145,
                            items : [{
                                    xtype : 'header',
                                    hidden : true
                                }
                            ],
                            dataIndex : 'maxAlarmF2',
                            sortable : false,
                            resizable: false,
                            renderer : function(v, p, r){
                                if (r.data.endDateF2 == null || r.data.endDateF2 == "") {
                                    p.tdCls='x-grid-record-gray';
                                    return "";
                                }
                                if (v == null || v == "") {
                                    p.tdCls='x-grid-record-red-blod';
                                    if (r.data.noCfcFlagF2*1 == chinaplus.consts.code.NoCfcFlag.Y
                                         && r.data.noPfcFlagF2*1 == chinaplus.consts.code.NoPfcFlag.Y) {
                                        return chinaplus.label.CPSSSS01_Label_NoOrderCustomerForecast;
                                    } else if(r.data.noCfcFlagF2*1 == chinaplus.consts.code.NoCfcFlag.Y) {
                                        return chinaplus.label.CPSSSS01_Label_NoCustomerForecast;
                                    } else if(r.data.noPfcFlagF2*1 == chinaplus.consts.code.NoPfcFlag.Y) {
                                        return chinaplus.label.CPSSSS01_Label_NoOrderForecast;
                                    } else {
                                        return "";
                                    }
                                } else {
                                    if(v*1 == chinaplus.consts.code.AlarmFlag.Y) {
                                        p.tdCls='x-grid-record-red-blod';
                                    }
                                    return chinaplus.master.getMasterName(chinaplus.master.consts.TnmCodeCategory_ALARM_FLAG, v);
                                }
                            },
                            filter : {
                                type : 'list',
                                multiSelect : false,
                                options : chinaplus.master.getMasterByCategory(chinaplus.master.consts.TnmCodeCategory_ALARM_FLAG)
                            }
                        },{
                            xtype : 'gridcolumn',
                            text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_LowestStockDays_F + '</div>',
                            align : 'right',
                            width : 145,
                            items : [{
                                    xtype : 'header',
                                    hidden : true
                                }
                            ],
                            dataIndex : 'minStockDayF2',
                            sortable : false,
                            resizable: false,
                            renderer : function(v, p, r){
                                if (r.data.inventoryBoxFlag*1 == chinaplus.consts.code.InventoryByBox.Y) {
                                    p.tdCls='x-grid-record-gray';
                                    return "";
                                } else {
                                    if (r.data.endDateF2 == null || r.data.endDateF2 == "") {
                                        p.tdCls='x-grid-record-gray';
                                        return "";
                                    }
                                    if (v == null || v == "") {
                                        if (r.data.noCfcFlagF2*1 == chinaplus.consts.code.NoCfcFlag.Y
                                             && r.data.noPfcFlagF2*1 == chinaplus.consts.code.NoPfcFlag.Y) {
                                            p.tdCls='x-grid-record-red-blod';
                                            return chinaplus.label.CPSSSS01_Label_NoOrderCustomerForecast;
                                        } else if(r.data.noCfcFlagF2*1 == chinaplus.consts.code.NoCfcFlag.Y) {
                                            p.tdCls='x-grid-record-red-blod';
                                            return chinaplus.label.CPSSSS01_Label_NoCustomerForecast;
                                        } else if(r.data.noPfcFlagF2*1 == chinaplus.consts.code.NoPfcFlag.Y) {
                                            p.tdCls='x-grid-record-red-blod';
                                            return chinaplus.label.CPSSSS01_Label_NoOrderForecast;
                                        } else {
                                            return "";
                                        }
                                    } else {
                                        if(r.data.noPfcMinF2*1 == chinaplus.consts.code.NoCfcFlag.N) {
                                            return TRF.util.getDecimalFormatByDigits(v, 1);
                                        } else {
                                            return "> " + TRF.util.getDecimalFormatByDigits(v, 1);
                                        }
                                    }
                                }
                            },
                            filter : 'number'
                        },{
                            xtype : 'gridcolumn',
                            text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_HighestStockDays_F + '</div>',
                            align : 'right',
                            width : 145,
                            items : [{
                                    xtype : 'header',
                                    hidden : true
                                }
                            ],
                            dataIndex : 'maxStockDayF2',
                            sortable : false,
                            resizable: false,
                            renderer : function(v, p, r){
                                if (r.data.inventoryBoxFlag*1 == chinaplus.consts.code.InventoryByBox.Y) {
                                    p.tdCls='x-grid-record-gray';
                                    return "";
                                } else {
                                    if (r.data.endDateF2 == null || r.data.endDateF2 == "") {
                                        p.tdCls='x-grid-record-gray';
                                        return "";
                                    }
                                    if (v == null || v == "") {
                                        if (r.data.noCfcFlagF2*1 == chinaplus.consts.code.NoCfcFlag.Y
                                             && r.data.noPfcFlagF2*1 == chinaplus.consts.code.NoPfcFlag.Y) {
                                            p.tdCls='x-grid-record-red-blod';
                                            return chinaplus.label.CPSSSS01_Label_NoOrderCustomerForecast;
                                        } else if(r.data.noCfcFlagF2*1 == chinaplus.consts.code.NoCfcFlag.Y) {
                                            p.tdCls='x-grid-record-red-blod';
                                            return chinaplus.label.CPSSSS01_Label_NoCustomerForecast;
                                        } else if(r.data.noPfcFlagF2*1 == chinaplus.consts.code.NoPfcFlag.Y) {
                                            p.tdCls='x-grid-record-red-blod';
                                            return chinaplus.label.CPSSSS01_Label_NoOrderForecast;
                                        } else {
                                            return "";
                                        }
                                    } else {
                                        if(r.data.noPfcMaxF2*1 == chinaplus.consts.code.NoCfcFlag.N) {
                                            return TRF.util.getDecimalFormatByDigits(v, 1);
                                        } else {
                                            return "> " + TRF.util.getDecimalFormatByDigits(v, 1);
                                        }
                                    }
                                }
                            },
                            filter : 'number'
                        },{
                            xtype : 'gridcolumn',
                            text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_LowestNoofBoxes_F + '</div>',
                            align : 'right',
                            width : 145,
                            items : [{
                                    xtype : 'header',
                                    hidden : true
                                }
                            ],
                            dataIndex : 'minBoxesF2',
                            renderer : function(v, p, r){
                                if (r.data.inventoryBoxFlag*1 == chinaplus.consts.code.InventoryByBox.N) {
                                    p.tdCls='x-grid-record-gray';
                                    return "";
                                } else {
                                    if (r.data.endDateF2 == null || r.data.endDateF2 == "") {
                                        p.tdCls='x-grid-record-gray';
                                        return "";
                                    }
                                    if (v == null || v == "") {
                                        if (r.data.noCfcFlagF2*1 == chinaplus.consts.code.NoCfcFlag.Y
                                             && r.data.noPfcFlagF2*1 == chinaplus.consts.code.NoPfcFlag.Y) {
                                            p.tdCls='x-grid-record-red-blod';
                                            return chinaplus.label.CPSSSS01_Label_NoOrderCustomerForecast;
                                        } else if(r.data.noCfcFlagF2*1 == chinaplus.consts.code.NoCfcFlag.Y) {
                                            p.tdCls='x-grid-record-red-blod';
                                            return chinaplus.label.CPSSSS01_Label_NoCustomerForecast;
                                        } else if(r.data.noPfcFlagF2*1 == chinaplus.consts.code.NoPfcFlag.Y) {
                                            p.tdCls='x-grid-record-red-blod';
                                            return chinaplus.label.CPSSSS01_Label_NoOrderForecast;
                                        } else {
                                            return "";
                                        }
                                    }
                                }
                                return TRF.util.getDecimalFormatByDigits(v, 2);
                            },
                            sortable : false,
                            resizable: false,
                            filter : 'number'
                        },{
                            xtype : 'gridcolumn',
                            text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_HighestNoofBoxes_F + '</div>',
                            align : 'right',
                            width : 145,
                            items : [{
                                    xtype : 'header',
                                    hidden : true
                                }
                            ],
                            dataIndex : 'maxBoxesF2',
                            sortable : false,
                            resizable: false,
                            renderer : function(v, p, r){
                                if (r.data.inventoryBoxFlag*1 == chinaplus.consts.code.InventoryByBox.N) {
                                    p.tdCls='x-grid-record-gray';
                                    return "";
                                } else {
                                    if (r.data.endDateF2 == null || r.data.endDateF2 == "") {
                                        p.tdCls='x-grid-record-gray';
                                        return "";
                                    }
                                    if (v == null || v == "") {
                                        if (r.data.noCfcFlagF2*1 == chinaplus.consts.code.NoCfcFlag.Y
                                             && r.data.noPfcFlagF2*1 == chinaplus.consts.code.NoPfcFlag.Y) {
                                            p.tdCls='x-grid-record-red-blod';
                                            return chinaplus.label.CPSSSS01_Label_NoOrderCustomerForecast;
                                        } else if(r.data.noCfcFlagF2*1 == chinaplus.consts.code.NoCfcFlag.Y) {
                                            p.tdCls='x-grid-record-red-blod';
                                            return chinaplus.label.CPSSSS01_Label_NoCustomerForecast;
                                        } else if(r.data.noPfcFlagF2*1 == chinaplus.consts.code.NoPfcFlag.Y) {
                                            p.tdCls='x-grid-record-red-blod';
                                            return chinaplus.label.CPSSSS01_Label_NoOrderForecast;
                                        } else {
                                            return "";
                                        }
                                    }
                                }
                                return TRF.util.getDecimalFormatByDigits(v, 2);
                            },
                            filter : 'number'
                        }
                    ]
                },{
                    xtype : 'gridcolumn',
                    text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_Forecast + ' 3' + '</div>',
                    style:'background-color:#00FF00',
                    sortable : false,
                    resizable: false,
                    columns : [
                        {
                            xtype : 'gridcolumn',
                            text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_SimulationEndDate_F + '</div>',
                            align : 'center',
                            width : 145,
                            items : [{
                                    xtype : 'header',
                                    hidden : true
                                }
                            ],
                            dataIndex : 'endDateF3',
                            sortable : false,
                            resizable: false,
                            renderer : function(v, p, r){
                                if (v == null || v == "") {
                                    p.tdCls='x-grid-record-gray';
                                }
                                return v;
                            },
                            filter : 'date',
                            filterPlugins : [ {
                                ptype : 'datePickerClear'
                            } ]
                        },{
                            xtype : 'gridcolumn',
                            text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_ShortageDate_F + '</div>',
                            align : 'center',
                            width : 145,
                            items : [{
                                    xtype : 'header',
                                    hidden : true
                                }
                            ],
                            dataIndex : 'shortageDateF3',
                            sortable : false,
                            resizable: false,
                            renderer : function(v, p, r){
                                if (r.data.endDateF3 == null || r.data.endDateF3 == "") {
                                    p.tdCls='x-grid-record-gray';
                                    return "";
                                }
                                p.tdCls='x-grid-record-red-blod';
                                if (v == null || v == "") {
                                    if (r.data.noCfcFlagF3*1 == chinaplus.consts.code.NoCfcFlag.Y
                                         && r.data.noPfcFlagF3*1 == chinaplus.consts.code.NoPfcFlag.Y) {
                                        return chinaplus.label.CPSSSS01_Label_NoOrderCustomerForecast;
                                    } else if(r.data.noCfcFlagF3*1 == chinaplus.consts.code.NoCfcFlag.Y) {
                                        return chinaplus.label.CPSSSS01_Label_NoCustomerForecast;
                                    } else if(r.data.noPfcFlagF3*1 == chinaplus.consts.code.NoPfcFlag.Y) {
                                        return chinaplus.label.CPSSSS01_Label_NoOrderForecast;
                                    }
                                }
                                return v;
                            },
                            filter : 'date',
                            filterPlugins : [ {
                                ptype : 'datePickerClear'
                            } ]
                        },{
                            xtype : 'gridcolumn',
                            text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_MinAlarmFlag_F + '</div>',
                            align : 'center',
                            width : 145,
                            items : [{
                                    xtype : 'header',
                                    hidden : true
                                }
                            ],
                            dataIndex : 'minAlarmF3',
                            sortable : false,
                            resizable: false,
                            renderer : function(v, p, r){
                                if (r.data.endDateF3 == null || r.data.endDateF3 == "") {
                                    p.tdCls='x-grid-record-gray';
                                    return "";
                                }
                                if (v == null || v == "") {
                                    p.tdCls='x-grid-record-red-blod';
                                    if (r.data.noCfcFlagF3*1 == chinaplus.consts.code.NoCfcFlag.Y
                                         && r.data.noPfcFlagF3*1 == chinaplus.consts.code.NoPfcFlag.Y) {
                                        return chinaplus.label.CPSSSS01_Label_NoOrderCustomerForecast;
                                    } else if(r.data.noCfcFlagF3*1 == chinaplus.consts.code.NoCfcFlag.Y) {
                                        return chinaplus.label.CPSSSS01_Label_NoCustomerForecast;
                                    } else if(r.data.noPfcFlagF3*1 == chinaplus.consts.code.NoPfcFlag.Y) {
                                        return chinaplus.label.CPSSSS01_Label_NoOrderForecast;
                                    } else {
                                        return "";
                                    }
                                } else {
                                    if(v*1 == chinaplus.consts.code.AlarmFlag.Y) {
                                        p.tdCls='x-grid-record-red-blod';
                                    }
                                    return chinaplus.master.getMasterName(chinaplus.master.consts.TnmCodeCategory_ALARM_FLAG, v);
                                }
                            },
                            filter : {
                                type : 'list',
                                multiSelect : false,
                                options : chinaplus.master.getMasterByCategory(chinaplus.master.consts.TnmCodeCategory_ALARM_FLAG)
                            }
                        },{
                            xtype : 'gridcolumn',
                            text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_MaxAlarmFlag_F + '</div>',
                            align : 'center',
                            width : 145,
                            items : [{
                                    xtype : 'header',
                                    hidden : true
                                }
                            ],
                            dataIndex : 'maxAlarmF3',
                            sortable : false,
                            resizable: false,
                            renderer : function(v, p, r){
                                if (r.data.endDateF3 == null || r.data.endDateF3 == "") {
                                    p.tdCls='x-grid-record-gray';
                                    return "";
                                }
                                if (v == null || v == "") {
                                    p.tdCls='x-grid-record-red-blod';
                                    if (r.data.noCfcFlagF3*1 == chinaplus.consts.code.NoCfcFlag.Y
                                         && r.data.noPfcFlagF3*1 == chinaplus.consts.code.NoPfcFlag.Y) {
                                        return chinaplus.label.CPSSSS01_Label_NoOrderCustomerForecast;
                                    } else if(r.data.noCfcFlagF3*1 == chinaplus.consts.code.NoCfcFlag.Y) {
                                        return chinaplus.label.CPSSSS01_Label_NoCustomerForecast;
                                    } else if(r.data.noPfcFlagF3*1 == chinaplus.consts.code.NoPfcFlag.Y) {
                                        return chinaplus.label.CPSSSS01_Label_NoOrderForecast;
                                    } else {
                                        return "";
                                    }
                                } else {
                                    if(v*1 == chinaplus.consts.code.AlarmFlag.Y) {
                                        p.tdCls='x-grid-record-red-blod';
                                    }
                                    return chinaplus.master.getMasterName(chinaplus.master.consts.TnmCodeCategory_ALARM_FLAG, v);
                                }
                            },
                            filter : {
                                type : 'list',
                                multiSelect : false,
                                options : chinaplus.master.getMasterByCategory(chinaplus.master.consts.TnmCodeCategory_ALARM_FLAG)
                            }
                        },{
                            xtype : 'gridcolumn',
                            text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_LowestStockDays_F + '</div>',
                            align : 'right',
                            width : 145,
                            items : [{
                                    xtype : 'header',
                                    hidden : true
                                }
                            ],
                            dataIndex : 'minStockDayF3',
                            sortable : false,
                            resizable: false,
                            renderer : function(v, p, r){
                                if (r.data.inventoryBoxFlag*1 == chinaplus.consts.code.InventoryByBox.Y) {
                                    p.tdCls='x-grid-record-gray';
                                    return "";
                                } else {
                                    if (r.data.endDateF3 == null || r.data.endDateF3 == "") {
                                        p.tdCls='x-grid-record-gray';
                                        return "";
                                    }
                                    if (v == null || v == "") {
                                        if (r.data.noCfcFlagF3*1 == chinaplus.consts.code.NoCfcFlag.Y
                                             && r.data.noPfcFlagF3*1 == chinaplus.consts.code.NoPfcFlag.Y) {
                                            p.tdCls='x-grid-record-red-blod';
                                            return chinaplus.label.CPSSSS01_Label_NoOrderCustomerForecast;
                                        } else if(r.data.noCfcFlagF3*1 == chinaplus.consts.code.NoCfcFlag.Y) {
                                            p.tdCls='x-grid-record-red-blod';
                                            return chinaplus.label.CPSSSS01_Label_NoCustomerForecast;
                                        } else if(r.data.noPfcFlagF3*1 == chinaplus.consts.code.NoPfcFlag.Y) {
                                            p.tdCls='x-grid-record-red-blod';
                                            return chinaplus.label.CPSSSS01_Label_NoOrderForecast;
                                        } else {
                                            return "";
                                        }
                                    } else {
                                        if(r.data.noPfcMinF3*1 == chinaplus.consts.code.NoCfcFlag.N) {
                                            return TRF.util.getDecimalFormatByDigits(v, 1);
                                        } else {
                                            return "> " + TRF.util.getDecimalFormatByDigits(v, 1);
                                        }
                                    }
                                }
                            },
                            filter : 'number'
                        },{
                            xtype : 'gridcolumn',
                            text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_HighestStockDays_F + '</div>',
                            align : 'right',
                            width : 145,
                            items : [{
                                    xtype : 'header',
                                    hidden : true
                                }
                            ],
                            dataIndex : 'maxStockDayF3',
                            sortable : false,
                            resizable: false,
                            renderer : function(v, p, r){
                                if (r.data.inventoryBoxFlag*1 == chinaplus.consts.code.InventoryByBox.Y) {
                                    p.tdCls='x-grid-record-gray';
                                    return "";
                                } else {
                                    if (r.data.endDateF3 == null || r.data.endDateF3 == "") {
                                        p.tdCls='x-grid-record-gray';
                                        return "";
                                    }
                                    if (v == null || v == "") {
                                        if (r.data.noCfcFlagF3*1 == chinaplus.consts.code.NoCfcFlag.Y
                                             && r.data.noPfcFlagF3*1 == chinaplus.consts.code.NoPfcFlag.Y) {
                                            p.tdCls='x-grid-record-red-blod';
                                            return chinaplus.label.CPSSSS01_Label_NoOrderCustomerForecast;
                                        } else if(r.data.noCfcFlagF3*1 == chinaplus.consts.code.NoCfcFlag.Y) {
                                            p.tdCls='x-grid-record-red-blod';
                                            return chinaplus.label.CPSSSS01_Label_NoCustomerForecast;
                                        } else if(r.data.noPfcFlagF3*1 == chinaplus.consts.code.NoPfcFlag.Y) {
                                            p.tdCls='x-grid-record-red-blod';
                                            return chinaplus.label.CPSSSS01_Label_NoOrderForecast;
                                        } else {
                                            return "";
                                        }
                                    } else {
                                        if(r.data.noPfcMaxF3*1 == chinaplus.consts.code.NoCfcFlag.N) {
                                            return TRF.util.getDecimalFormatByDigits(v, 1);
                                        } else {
                                            return "> " + TRF.util.getDecimalFormatByDigits(v, 1);
                                        }
                                    }
                                }
                            },
                            filter : 'number'
                        },{
                            xtype : 'gridcolumn',
                            text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_LowestNoofBoxes_F + '</div>',
                            align : 'right',
                            width : 145,
                            items : [{
                                    xtype : 'header',
                                    hidden : true
                                }
                            ],
                            dataIndex : 'minBoxesF3',
                            renderer : function(v, p, r){
                                if (r.data.inventoryBoxFlag*1 == chinaplus.consts.code.InventoryByBox.N) {
                                    p.tdCls='x-grid-record-gray';
                                    return "";
                                } else {
                                    if (r.data.endDateF3 == null || r.data.endDateF3 == "") {
                                        p.tdCls='x-grid-record-gray';
                                        return "";
                                    }
                                    if (v == null || v == "") {
                                        if (r.data.noCfcFlagF3*1 == chinaplus.consts.code.NoCfcFlag.Y
                                             && r.data.noPfcFlagF3*1 == chinaplus.consts.code.NoPfcFlag.Y) {
                                            p.tdCls='x-grid-record-red-blod';
                                            return chinaplus.label.CPSSSS01_Label_NoOrderCustomerForecast;
                                        } else if(r.data.noCfcFlagF3*1 == chinaplus.consts.code.NoCfcFlag.Y) {
                                            p.tdCls='x-grid-record-red-blod';
                                            return chinaplus.label.CPSSSS01_Label_NoCustomerForecast;
                                        } else if(r.data.noPfcFlagF3*1 == chinaplus.consts.code.NoPfcFlag.Y) {
                                            p.tdCls='x-grid-record-red-blod';
                                            return chinaplus.label.CPSSSS01_Label_NoOrderForecast;
                                        } else {
                                            return "";
                                        }
                                    }
                                }
                                return TRF.util.getDecimalFormatByDigits(v, 2);
                            },
                            sortable : false,
                            resizable: false,
                            filter : 'number'
                        },{
                            xtype : 'gridcolumn',
                            text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_HighestNoofBoxes_F + '</div>',
                            align : 'right',
                            width : 145,
                            items : [{
                                    xtype : 'header',
                                    hidden : true
                                }
                            ],
                            dataIndex : 'maxBoxesF3',
                            sortable : false,
                            resizable: false,
                            renderer : function(v, p, r){
                                if (r.data.inventoryBoxFlag*1 == chinaplus.consts.code.InventoryByBox.N) {
                                    p.tdCls='x-grid-record-gray';
                                    return "";
                                } else {
                                    if (r.data.endDateF3 == null || r.data.endDateF3 == "") {
                                        p.tdCls='x-grid-record-gray';
                                        return "";
                                    }
                                    if (v == null || v == "") {
                                        if (r.data.noCfcFlagF3*1 == chinaplus.consts.code.NoCfcFlag.Y
                                             && r.data.noPfcFlagF3*1 == chinaplus.consts.code.NoPfcFlag.Y) {
                                            p.tdCls='x-grid-record-red-blod';
                                            return chinaplus.label.CPSSSS01_Label_NoOrderCustomerForecast;
                                        } else if(r.data.noCfcFlagF3*1 == chinaplus.consts.code.NoCfcFlag.Y) {
                                            p.tdCls='x-grid-record-red-blod';
                                            return chinaplus.label.CPSSSS01_Label_NoCustomerForecast;
                                        } else if(r.data.noPfcFlagF3*1 == chinaplus.consts.code.NoPfcFlag.Y) {
                                            p.tdCls='x-grid-record-red-blod';
                                            return chinaplus.label.CPSSSS01_Label_NoOrderForecast;
                                        } else {
                                            return "";
                                        }
                                    }
                                }
                                return TRF.util.getDecimalFormatByDigits(v, 2);
                            },
                            filter : 'number'
                        }
                    ]
                },{
                    xtype : 'gridcolumn',
                    text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_Forecast + ' 4' + '</div>',
                    style:'background-color:#00FF00',
                    sortable : false,
                    resizable: false,
                    columns : [
                        {
                            xtype : 'gridcolumn',
                            text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_SimulationEndDate_F + '</div>',
                            align : 'center',
                            width : 145,
                            items : [{
                                    xtype : 'header',
                                    hidden : true
                                }
                            ],
                            dataIndex : 'endDateF4',
                            sortable : false,
                            resizable: false,
                            renderer : function(v, p, r){
                                if (v == null || v == "") {
                                    p.tdCls='x-grid-record-gray';
                                }
                                return v;
                            },
                            filter : 'date',
                            filterPlugins : [ {
                                ptype : 'datePickerClear'
                            } ]
                        },{
                            xtype : 'gridcolumn',
                            text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_ShortageDate_F + '</div>',
                            align : 'center',
                            width : 145,
                            items : [{
                                    xtype : 'header',
                                    hidden : true
                                }
                            ],
                            dataIndex : 'shortageDateF4',
                            sortable : false,
                            resizable: false,
                            renderer : function(v, p, r){
                                if (r.data.endDateF4 == null || r.data.endDateF4 == "") {
                                    p.tdCls='x-grid-record-gray';
                                    return "";
                                }
                                p.tdCls='x-grid-record-red-blod';
                                if (v == null || v == "") {
                                    if (r.data.noCfcFlagF4*1 == chinaplus.consts.code.NoCfcFlag.Y
                                         && r.data.noPfcFlagF4*1 == chinaplus.consts.code.NoPfcFlag.Y) {
                                        return chinaplus.label.CPSSSS01_Label_NoOrderCustomerForecast;
                                    } else if(r.data.noCfcFlagF4*1 == chinaplus.consts.code.NoCfcFlag.Y) {
                                        return chinaplus.label.CPSSSS01_Label_NoCustomerForecast;
                                    } else if(r.data.noPfcFlagF4*1 == chinaplus.consts.code.NoPfcFlag.Y) {
                                        return chinaplus.label.CPSSSS01_Label_NoOrderForecast;
                                    }
                                }
                                return v;
                            },
                            filter : 'date',
                            filterPlugins : [ {
                                ptype : 'datePickerClear'
                            } ]
                        },{
                            xtype : 'gridcolumn',
                            text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_MinAlarmFlag_F + '</div>',
                            align : 'center',
                            width : 145,
                            items : [{
                                    xtype : 'header',
                                    hidden : true
                                }
                            ],
                            dataIndex : 'minAlarmF4',
                            sortable : false,
                            resizable: false,
                            renderer : function(v, p, r){
                                if (r.data.endDateF4 == null || r.data.endDateF4 == "") {
                                    p.tdCls='x-grid-record-gray';
                                    return "";
                                }
                                if (v == null || v == "") {
                                    p.tdCls='x-grid-record-red-blod';
                                    if (r.data.noCfcFlagF4*1 == chinaplus.consts.code.NoCfcFlag.Y
                                         && r.data.noPfcFlagF4*1 == chinaplus.consts.code.NoPfcFlag.Y) {
                                        return chinaplus.label.CPSSSS01_Label_NoOrderCustomerForecast;
                                    } else if(r.data.noCfcFlagF4*1 == chinaplus.consts.code.NoCfcFlag.Y) {
                                        return chinaplus.label.CPSSSS01_Label_NoCustomerForecast;
                                    } else if(r.data.noPfcFlagF4*1 == chinaplus.consts.code.NoPfcFlag.Y) {
                                        return chinaplus.label.CPSSSS01_Label_NoOrderForecast;
                                    } else {
                                        return "";
                                    }
                                } else {
                                    if(v*1 == chinaplus.consts.code.AlarmFlag.Y) {
                                        p.tdCls='x-grid-record-red-blod';
                                    }
                                    return chinaplus.master.getMasterName(chinaplus.master.consts.TnmCodeCategory_ALARM_FLAG, v);
                                }
                            },
                            filter : {
                                type : 'list',
                                multiSelect : false,
                                options : chinaplus.master.getMasterByCategory(chinaplus.master.consts.TnmCodeCategory_ALARM_FLAG)
                            }
                        },{
                            xtype : 'gridcolumn',
                            text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_MaxAlarmFlag_F + '</div>',
                            align : 'center',
                            width : 145,
                            items : [{
                                    xtype : 'header',
                                    hidden : true
                                }
                            ],
                            dataIndex : 'maxAlarmF4',
                            sortable : false,
                            resizable: false,
                            renderer : function(v, p, r){
                                if (r.data.endDateF4 == null || r.data.endDateF4 == "") {
                                    p.tdCls='x-grid-record-gray';
                                    return "";
                                }
                                if (v == null || v == "") {
                                    p.tdCls='x-grid-record-red-blod';
                                    if (r.data.noCfcFlagF4*1 == chinaplus.consts.code.NoCfcFlag.Y
                                         && r.data.noPfcFlagF4*1 == chinaplus.consts.code.NoPfcFlag.Y) {
                                        return chinaplus.label.CPSSSS01_Label_NoOrderCustomerForecast;
                                    } else if(r.data.noCfcFlagF4*1 == chinaplus.consts.code.NoCfcFlag.Y) {
                                        return chinaplus.label.CPSSSS01_Label_NoCustomerForecast;
                                    } else if(r.data.noPfcFlagF4*1 == chinaplus.consts.code.NoPfcFlag.Y) {
                                        return chinaplus.label.CPSSSS01_Label_NoOrderForecast;
                                    } else {
                                        return "";
                                    }
                                } else {
                                    if(v*1 == chinaplus.consts.code.AlarmFlag.Y) {
                                        p.tdCls='x-grid-record-red-blod';
                                    }
                                    return chinaplus.master.getMasterName(chinaplus.master.consts.TnmCodeCategory_ALARM_FLAG, v);
                                }
                            },
                            filter : {
                                type : 'list',
                                multiSelect : false,
                                options : chinaplus.master.getMasterByCategory(chinaplus.master.consts.TnmCodeCategory_ALARM_FLAG)
                            }
                        },{
                            xtype : 'gridcolumn',
                            text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_LowestStockDays_F + '</div>',
                            align : 'right',
                            width : 145,
                            items : [{
                                    xtype : 'header',
                                    hidden : true
                                }
                            ],
                            dataIndex : 'minStockDayF4',
                            sortable : false,
                            resizable: false,
                            renderer : function(v, p, r){
                                if (r.data.inventoryBoxFlag*1 == chinaplus.consts.code.InventoryByBox.Y) {
                                    p.tdCls='x-grid-record-gray';
                                    return "";
                                } else {
                                    if (r.data.endDateF4 == null || r.data.endDateF4 == "") {
                                        p.tdCls='x-grid-record-gray';
                                        return "";
                                    }
                                    if (v == null || v == "") {
                                        if (r.data.noCfcFlagF4*1 == chinaplus.consts.code.NoCfcFlag.Y
                                             && r.data.noPfcFlagF4*1 == chinaplus.consts.code.NoPfcFlag.Y) {
                                            p.tdCls='x-grid-record-red-blod';
                                            return chinaplus.label.CPSSSS01_Label_NoOrderCustomerForecast;
                                        } else if(r.data.noCfcFlagF4*1 == chinaplus.consts.code.NoCfcFlag.Y) {
                                            p.tdCls='x-grid-record-red-blod';
                                            return chinaplus.label.CPSSSS01_Label_NoCustomerForecast;
                                        } else if(r.data.noPfcFlagF4*1 == chinaplus.consts.code.NoPfcFlag.Y) {
                                            p.tdCls='x-grid-record-red-blod';
                                            return chinaplus.label.CPSSSS01_Label_NoOrderForecast;
                                        } else {
                                            return "";
                                        }
                                    } else {
                                        if(r.data.noPfcMinF4*1 == chinaplus.consts.code.NoCfcFlag.N) {
                                            return TRF.util.getDecimalFormatByDigits(v, 1);
                                        } else {
                                            return "> " + TRF.util.getDecimalFormatByDigits(v, 1);
                                        }
                                    }
                                }
                            },
                            filter : 'number'
                        },{
                            xtype : 'gridcolumn',
                            text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_HighestStockDays_F + '</div>',
                            align : 'right',
                            width : 145,
                            items : [{
                                    xtype : 'header',
                                    hidden : true
                                }
                            ],
                            dataIndex : 'maxStockDayF4',
                            sortable : false,
                            resizable: false,
                            renderer : function(v, p, r){
                                if (r.data.inventoryBoxFlag*1 == chinaplus.consts.code.InventoryByBox.Y) {
                                    p.tdCls='x-grid-record-gray';
                                    return "";
                                } else {
                                    if (r.data.endDateF4 == null || r.data.endDateF4 == "") {
                                        p.tdCls='x-grid-record-gray';
                                        return "";
                                    }
                                    if (v == null || v == "") {
                                        if (r.data.noCfcFlagF4*1 == chinaplus.consts.code.NoCfcFlag.Y
                                             && r.data.noPfcFlagF4*1 == chinaplus.consts.code.NoPfcFlag.Y) {
                                            p.tdCls='x-grid-record-red-blod';
                                            return chinaplus.label.CPSSSS01_Label_NoOrderCustomerForecast;
                                        } else if(r.data.noCfcFlagF4*1 == chinaplus.consts.code.NoCfcFlag.Y) {
                                            p.tdCls='x-grid-record-red-blod';
                                            return chinaplus.label.CPSSSS01_Label_NoCustomerForecast;
                                        } else if(r.data.noPfcFlagF4*1 == chinaplus.consts.code.NoPfcFlag.Y) {
                                            p.tdCls='x-grid-record-red-blod';
                                            return chinaplus.label.CPSSSS01_Label_NoOrderForecast;
                                        } else {
                                            return "";
                                        }
                                    } else {
                                        if(r.data.noPfcMaxF4*1 == chinaplus.consts.code.NoCfcFlag.N) {
                                            return TRF.util.getDecimalFormatByDigits(v, 1);
                                        } else {
                                            return "> " + TRF.util.getDecimalFormatByDigits(v, 1);
                                        }
                                    }
                                }
                            },
                            filter : 'number'
                        },{
                            xtype : 'gridcolumn',
                            text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_LowestNoofBoxes_F + '</div>',
                            align : 'right',
                            width : 145,
                            items : [{
                                    xtype : 'header',
                                    hidden : true
                                }
                            ],
                            dataIndex : 'minBoxesF4',
                            renderer : function(v, p, r){
                                if (r.data.inventoryBoxFlag*1 == chinaplus.consts.code.InventoryByBox.N) {
                                    p.tdCls='x-grid-record-gray';
                                    return "";
                                } else {
                                    if (r.data.endDateF4 == null || r.data.endDateF4 == "") {
                                        p.tdCls='x-grid-record-gray';
                                        return "";
                                    }
                                    if (v == null || v == "") {
                                        if (r.data.noCfcFlagF4*1 == chinaplus.consts.code.NoCfcFlag.Y
                                             && r.data.noPfcFlagF4*1 == chinaplus.consts.code.NoPfcFlag.Y) {
                                            p.tdCls='x-grid-record-red-blod';
                                            return chinaplus.label.CPSSSS01_Label_NoOrderCustomerForecast;
                                        } else if(r.data.noCfcFlagF4*1 == chinaplus.consts.code.NoCfcFlag.Y) {
                                            p.tdCls='x-grid-record-red-blod';
                                            return chinaplus.label.CPSSSS01_Label_NoCustomerForecast;
                                        } else if(r.data.noPfcFlagF4*1 == chinaplus.consts.code.NoPfcFlag.Y) {
                                            p.tdCls='x-grid-record-red-blod';
                                            return chinaplus.label.CPSSSS01_Label_NoOrderForecast;
                                        } else {
                                            return "";
                                        }
                                    }
                                }
                                return TRF.util.getDecimalFormatByDigits(v, 2);
                            },
                            sortable : false,
                            resizable: false,
                            filter : 'number'
                        },{
                            xtype : 'gridcolumn',
                            text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_HighestNoofBoxes_F + '</div>',
                            align : 'right',
                            width : 145,
                            items : [{
                                    xtype : 'header',
                                    hidden : true
                                }
                            ],
                            dataIndex : 'maxBoxesF4',
                            sortable : false,
                            resizable: false,
                            renderer : function(v, p, r){
                                if (r.data.inventoryBoxFlag*1 == chinaplus.consts.code.InventoryByBox.N) {
                                    p.tdCls='x-grid-record-gray';
                                    return "";
                                } else {
                                    if (r.data.endDateF4 == null || r.data.endDateF4 == "") {
                                        p.tdCls='x-grid-record-gray';
                                        return "";
                                    }
                                    if (v == null || v == "") {
                                        if (r.data.noCfcFlagF4*1 == chinaplus.consts.code.NoCfcFlag.Y
                                             && r.data.noPfcFlagF4*1 == chinaplus.consts.code.NoPfcFlag.Y) {
                                            p.tdCls='x-grid-record-red-blod';
                                            return chinaplus.label.CPSSSS01_Label_NoOrderCustomerForecast;
                                        } else if(r.data.noCfcFlagF4*1 == chinaplus.consts.code.NoCfcFlag.Y) {
                                            p.tdCls='x-grid-record-red-blod';
                                            return chinaplus.label.CPSSSS01_Label_NoCustomerForecast;
                                        } else if(r.data.noPfcFlagF4*1 == chinaplus.consts.code.NoPfcFlag.Y) {
                                            p.tdCls='x-grid-record-red-blod';
                                            return chinaplus.label.CPSSSS01_Label_NoOrderForecast;
                                        } else {
                                            return "";
                                        }
                                    }
                                }
                                return TRF.util.getDecimalFormatByDigits(v, 2);
                            },
                            filter : 'number'
                        }
                    ]
                },{
                    xtype : 'gridcolumn',
                    text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_Forecast + ' 5' + '</div>',
                    style:'background-color:#00FF00',
                    sortable : false,
                    columns : [
                        {
                            xtype : 'gridcolumn',
                            text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_SimulationEndDate_F + '</div>',
                            align : 'center',
                            width : 145,
                            items : [{
                                    xtype : 'header',
                                    hidden : true
                                }
                            ],
                            dataIndex : 'endDateF5',
                            sortable : false,
                            resizable: false,
                            renderer : function(v, p, r){
                                if (v == null || v == "") {
                                    p.tdCls='x-grid-record-gray';
                                }
                                return v;
                            },
                            filter : 'date',
                            filterPlugins : [ {
                                ptype : 'datePickerClear'
                            } ]
                        },{
                            xtype : 'gridcolumn',
                            text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_ShortageDate_F + '</div>',
                            align : 'center',
                            width : 145,
                            items : [{
                                    xtype : 'header',
                                    hidden : true
                                }
                            ],
                            dataIndex : 'shortageDateF5',
                            sortable : false,
                            resizable: false,
                            renderer : function(v, p, r){
                                if (r.data.endDateF5 == null || r.data.endDateF5 == "") {
                                    p.tdCls='x-grid-record-gray';
                                    return "";
                                }
                                p.tdCls='x-grid-record-red-blod';
                                if (v == null || v == "") {
                                    if (r.data.noCfcFlagF5*1 == chinaplus.consts.code.NoCfcFlag.Y
                                         && r.data.noPfcFlagF5*1 == chinaplus.consts.code.NoPfcFlag.Y) {
                                        return chinaplus.label.CPSSSS01_Label_NoOrderCustomerForecast;
                                    } else if(r.data.noCfcFlagF5*1 == chinaplus.consts.code.NoCfcFlag.Y) {
                                        return chinaplus.label.CPSSSS01_Label_NoCustomerForecast;
                                    } else if(r.data.noPfcFlagF5*1 == chinaplus.consts.code.NoPfcFlag.Y) {
                                        return chinaplus.label.CPSSSS01_Label_NoOrderForecast;
                                    }
                                }
                                return v;
                            },
                            filter : 'date',
                            filterPlugins : [ {
                                ptype : 'datePickerClear'
                            } ]
                        },{
                            xtype : 'gridcolumn',
                            text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_MinAlarmFlag_F + '</div>',
                            align : 'center',
                            width : 145,
                            items : [{
                                    xtype : 'header',
                                    hidden : true
                                }
                            ],
                            dataIndex : 'minAlarmF5',
                            sortable : false,
                            resizable: false,
                            renderer : function(v, p, r){
                                if (r.data.endDateF5 == null || r.data.endDateF5 == "") {
                                    p.tdCls='x-grid-record-gray';
                                    return "";
                                }
                                if (v == null || v == "") {
                                    p.tdCls='x-grid-record-red-blod';
                                    if (r.data.noCfcFlagF5*1 == chinaplus.consts.code.NoCfcFlag.Y
                                         && r.data.noPfcFlagF5*1 == chinaplus.consts.code.NoPfcFlag.Y) {
                                        return chinaplus.label.CPSSSS01_Label_NoOrderCustomerForecast;
                                    } else if(r.data.noCfcFlagF5*1 == chinaplus.consts.code.NoCfcFlag.Y) {
                                        return chinaplus.label.CPSSSS01_Label_NoCustomerForecast;
                                    } else if(r.data.noPfcFlagF5*1 == chinaplus.consts.code.NoPfcFlag.Y) {
                                        return chinaplus.label.CPSSSS01_Label_NoOrderForecast;
                                    } else {
                                        return "";
                                    }
                                } else {
                                    if(v*1 == chinaplus.consts.code.AlarmFlag.Y) {
                                        p.tdCls='x-grid-record-red-blod';
                                    }
                                    return chinaplus.master.getMasterName(chinaplus.master.consts.TnmCodeCategory_ALARM_FLAG, v);
                                }
                            },
                            filter : {
                                type : 'list',
                                multiSelect : false,
                                options : chinaplus.master.getMasterByCategory(chinaplus.master.consts.TnmCodeCategory_ALARM_FLAG)
                            }
                        },{
                            xtype : 'gridcolumn',
                            text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_MaxAlarmFlag_F + '</div>',
                            align : 'center',
                            width : 145,
                            items : [{
                                    xtype : 'header',
                                    hidden : true
                                }
                            ],
                            dataIndex : 'maxAlarmF5',
                            sortable : false,
                            resizable: false,
                            renderer : function(v, p, r){
                                if (r.data.endDateF5 == null || r.data.endDateF5 == "") {
                                    p.tdCls='x-grid-record-gray';
                                    return "";
                                }
                                if (v == null || v == "") {
                                    p.tdCls='x-grid-record-red-blod';
                                    if (r.data.noCfcFlagF5*1 == chinaplus.consts.code.NoCfcFlag.Y
                                         && r.data.noPfcFlagF5*1 == chinaplus.consts.code.NoPfcFlag.Y) {
                                        return chinaplus.label.CPSSSS01_Label_NoOrderCustomerForecast;
                                    } else if(r.data.noCfcFlagF5*1 == chinaplus.consts.code.NoCfcFlag.Y) {
                                        return chinaplus.label.CPSSSS01_Label_NoCustomerForecast;
                                    } else if(r.data.noPfcFlagF5*1 == chinaplus.consts.code.NoPfcFlag.Y) {
                                        return chinaplus.label.CPSSSS01_Label_NoOrderForecast;
                                    } else {
                                        return "";
                                    }
                                } else {
                                    if(v*1 == chinaplus.consts.code.AlarmFlag.Y) {
                                        p.tdCls='x-grid-record-red-blod';
                                    }
                                    return chinaplus.master.getMasterName(chinaplus.master.consts.TnmCodeCategory_ALARM_FLAG, v);
                                }
                            },
                            filter : {
                                type : 'list',
                                multiSelect : false,
                                options : chinaplus.master.getMasterByCategory(chinaplus.master.consts.TnmCodeCategory_ALARM_FLAG)
                            }
                        },{
                            xtype : 'gridcolumn',
                            text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_LowestStockDays_F + '</div>',
                            align : 'right',
                            width : 145,
                            items : [{
                                    xtype : 'header',
                                    hidden : true
                                }
                            ],
                            dataIndex : 'minStockDayF5',
                            sortable : false,
                            resizable: false,
                            renderer : function(v, p, r){
                                if (r.data.inventoryBoxFlag*1 == chinaplus.consts.code.InventoryByBox.Y) {
                                    p.tdCls='x-grid-record-gray';
                                    return "";
                                } else {
                                    if (r.data.endDateF5 == null || r.data.endDateF5 == "") {
                                        p.tdCls='x-grid-record-gray';
                                        return "";
                                    }
                                    if (v == null || v == "") {
                                        if (r.data.noCfcFlagF5*1 == chinaplus.consts.code.NoCfcFlag.Y
                                             && r.data.noPfcFlagF5*1 == chinaplus.consts.code.NoPfcFlag.Y) {
                                            p.tdCls='x-grid-record-red-blod';
                                            return chinaplus.label.CPSSSS01_Label_NoOrderCustomerForecast;
                                        } else if(r.data.noCfcFlagF5*1 == chinaplus.consts.code.NoCfcFlag.Y) {
                                            p.tdCls='x-grid-record-red-blod';
                                            return chinaplus.label.CPSSSS01_Label_NoCustomerForecast;
                                        } else if(r.data.noPfcFlagF5*1 == chinaplus.consts.code.NoPfcFlag.Y) {
                                            p.tdCls='x-grid-record-red-blod';
                                            return chinaplus.label.CPSSSS01_Label_NoOrderForecast;
                                        } else {
                                            return "";
                                        }
                                    } else {
                                        if(r.data.noPfcMinF5*1 == chinaplus.consts.code.NoCfcFlag.N) {
                                            return TRF.util.getDecimalFormatByDigits(v, 1);
                                        } else {
                                            return "> " + TRF.util.getDecimalFormatByDigits(v, 1);
                                        }
                                    }
                                }
                            },
                            filter : 'number'
                        },{
                            xtype : 'gridcolumn',
                            text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_HighestStockDays_F + '</div>',
                            align : 'right',
                            width : 145,
                            items : [{
                                    xtype : 'header',
                                    hidden : true
                                }
                            ],
                            dataIndex : 'maxStockDayF5',
                            sortable : false,
                            resizable: false,
                            renderer : function(v, p, r){
                                if (r.data.inventoryBoxFlag*1 == chinaplus.consts.code.InventoryByBox.Y) {
                                    p.tdCls='x-grid-record-gray';
                                    return "";
                                } else {
                                    if (r.data.endDateF5 == null || r.data.endDateF5 == "") {
                                        p.tdCls='x-grid-record-gray';
                                        return "";
                                    }
                                    if (v == null || v == "") {
                                        if (r.data.noCfcFlagF5*1 == chinaplus.consts.code.NoCfcFlag.Y
                                             && r.data.noPfcFlagF5*1 == chinaplus.consts.code.NoPfcFlag.Y) {
                                            p.tdCls='x-grid-record-red-blod';
                                            return chinaplus.label.CPSSSS01_Label_NoOrderCustomerForecast;
                                        } else if(r.data.noCfcFlagF5*1 == chinaplus.consts.code.NoCfcFlag.Y) {
                                            p.tdCls='x-grid-record-red-blod';
                                            return chinaplus.label.CPSSSS01_Label_NoCustomerForecast;
                                        } else if(r.data.noPfcFlagF5*1 == chinaplus.consts.code.NoPfcFlag.Y) {
                                            p.tdCls='x-grid-record-red-blod';
                                            return chinaplus.label.CPSSSS01_Label_NoOrderForecast;
                                        } else {
                                            return "";
                                        }
                                    } else {
                                        if(r.data.noPfcMaxF5*1 == chinaplus.consts.code.NoCfcFlag.N) {
                                            return TRF.util.getDecimalFormatByDigits(v, 1);
                                        } else {
                                            return "> " + TRF.util.getDecimalFormatByDigits(v, 1);
                                        }
                                    }
                                }
                            },
                            filter : 'number'
                        },{
                            xtype : 'gridcolumn',
                            text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_LowestNoofBoxes_F + '</div>',
                            align : 'right',
                            width : 145,
                            items : [{
                                    xtype : 'header',
                                    hidden : true
                                }
                            ],
                            dataIndex : 'minBoxesF5',
                            renderer : function(v, p, r){
                                if (r.data.inventoryBoxFlag*1 == chinaplus.consts.code.InventoryByBox.N) {
                                    p.tdCls='x-grid-record-gray';
                                    return "";
                                } else {
                                    if (r.data.endDateF5 == null || r.data.endDateF5 == "") {
                                        p.tdCls='x-grid-record-gray';
                                        return "";
                                    }
                                    if (v == null || v == "") {
                                        if (r.data.noCfcFlagF5*1 == chinaplus.consts.code.NoCfcFlag.Y
                                             && r.data.noPfcFlagF5*1 == chinaplus.consts.code.NoPfcFlag.Y) {
                                            p.tdCls='x-grid-record-red-blod';
                                            return chinaplus.label.CPSSSS01_Label_NoOrderCustomerForecast;
                                        } else if(r.data.noCfcFlagF5*1 == chinaplus.consts.code.NoCfcFlag.Y) {
                                            p.tdCls='x-grid-record-red-blod';
                                            return chinaplus.label.CPSSSS01_Label_NoCustomerForecast;
                                        } else if(r.data.noPfcFlagF5*1 == chinaplus.consts.code.NoPfcFlag.Y) {
                                            p.tdCls='x-grid-record-red-blod';
                                            return chinaplus.label.CPSSSS01_Label_NoOrderForecast;
                                        } else {
                                            return "";
                                        }
                                    }
                                }
                                return TRF.util.getDecimalFormatByDigits(v, 2);
                            },
                            sortable : false,
                            resizable: false,
                            filter : 'number'
                        },{
                            xtype : 'gridcolumn',
                            text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_HighestNoofBoxes_F + '</div>',
                            align : 'right',
                            width : 145,
                            items : [{
                                    xtype : 'header',
                                    hidden : true
                                }
                            ],
                            dataIndex : 'maxBoxesF5',
                            sortable : false,
                            resizable: false,
                            renderer : function(v, p, r){
                                if (r.data.inventoryBoxFlag*1 == chinaplus.consts.code.InventoryByBox.N) {
                                    p.tdCls='x-grid-record-gray';
                                    return "";
                                } else {
                                    if (r.data.endDateF5 == null || r.data.endDateF5 == "") {
                                        p.tdCls='x-grid-record-gray';
                                        return "";
                                    }
                                    if (v == null || v == "") {
                                        if (r.data.noCfcFlagF5*1 == chinaplus.consts.code.NoCfcFlag.Y
                                             && r.data.noPfcFlagF5*1 == chinaplus.consts.code.NoPfcFlag.Y) {
                                            p.tdCls='x-grid-record-red-blod';
                                            return chinaplus.label.CPSSSS01_Label_NoOrderCustomerForecast;
                                        } else if(r.data.noCfcFlagF5*1 == chinaplus.consts.code.NoCfcFlag.Y) {
                                            p.tdCls='x-grid-record-red-blod';
                                            return chinaplus.label.CPSSSS01_Label_NoCustomerForecast;
                                        } else if(r.data.noPfcFlagF5*1 == chinaplus.consts.code.NoPfcFlag.Y) {
                                            p.tdCls='x-grid-record-red-blod';
                                            return chinaplus.label.CPSSSS01_Label_NoOrderForecast;
                                        } else {
                                            return "";
                                        }
                                    }
                                }
                                return TRF.util.getDecimalFormatByDigits(v, 2);
                            },
                            filter : 'number'
                        }
                    ]
                },{
                    xtype : 'gridcolumn',
                    text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_Forecast + ' 6' + '</div>',
                    style:'background-color:#00FF00',
                    sortable : false,
                    resizable: false,
                    columns : [
                        {
                            xtype : 'gridcolumn',
                            text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_SimulationEndDate_F + '</div>',
                            align : 'center',
                            width : 145,
                            items : [{
                                    xtype : 'header',
                                    hidden : true
                                }
                            ],
                            dataIndex : 'endDateF6',
                            sortable : false,
                            resizable: false,
                            renderer : function(v, p, r){
                                if (v == null || v == "") {
                                    p.tdCls='x-grid-record-gray';
                                }
                                return v;
                            },
                            filter : 'date',
                            filterPlugins : [ {
                                ptype : 'datePickerClear'
                            } ]
                        },{
                            xtype : 'gridcolumn',
                            text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_ShortageDate_F + '</div>',
                            align : 'center',
                            width : 145,
                            items : [{
                                    xtype : 'header',
                                    hidden : true
                                }
                            ],
                            dataIndex : 'shortageDateF6',
                            sortable : false,
                            resizable: false,
                            renderer : function(v, p, r){
                                if (r.data.endDateF6 == null || r.data.endDateF6 == "") {
                                    p.tdCls='x-grid-record-gray';
                                    return "";
                                }
                                p.tdCls='x-grid-record-red-blod';
                                if (v == null || v == "") {
                                    if (r.data.noCfcFlagF6*1 == chinaplus.consts.code.NoCfcFlag.Y
                                         && r.data.noPfcFlagF6*1 == chinaplus.consts.code.NoPfcFlag.Y) {
                                        return chinaplus.label.CPSSSS01_Label_NoOrderCustomerForecast;
                                    } else if(r.data.noCfcFlagF6*1 == chinaplus.consts.code.NoCfcFlag.Y) {
                                        return chinaplus.label.CPSSSS01_Label_NoCustomerForecast;
                                    } else if(r.data.noPfcFlagF6*1 == chinaplus.consts.code.NoPfcFlag.Y) {
                                        return chinaplus.label.CPSSSS01_Label_NoOrderForecast;
                                    }
                                }
                                return v;
                            },
                            filter : 'date',
                            filterPlugins : [ {
                                ptype : 'datePickerClear'
                            } ]
                        },{
                            xtype : 'gridcolumn',
                            text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_MinAlarmFlag_F + '</div>',
                            align : 'center',
                            width : 145,
                            items : [{
                                    xtype : 'header',
                                    hidden : true
                                }
                            ],
                            dataIndex : 'minAlarmF6',
                            sortable : false,
                            resizable: false,
                            renderer : function(v, p, r){
                                if (r.data.endDateF6 == null || r.data.endDateF6 == "") {
                                    p.tdCls='x-grid-record-gray';
                                    return "";
                                }
                                if (v == null || v == "") {
                                    p.tdCls='x-grid-record-red-blod';
                                    if (r.data.noCfcFlagF6*1 == chinaplus.consts.code.NoCfcFlag.Y
                                         && r.data.noPfcFlagF6*1 == chinaplus.consts.code.NoPfcFlag.Y) {
                                        return chinaplus.label.CPSSSS01_Label_NoOrderCustomerForecast;
                                    } else if(r.data.noCfcFlagF6*1 == chinaplus.consts.code.NoCfcFlag.Y) {
                                        return chinaplus.label.CPSSSS01_Label_NoCustomerForecast;
                                    } else if(r.data.noPfcFlagF6*1 == chinaplus.consts.code.NoPfcFlag.Y) {
                                        return chinaplus.label.CPSSSS01_Label_NoOrderForecast;
                                    } else {
                                        return "";
                                    }
                                } else {
                                    if(v*1 == chinaplus.consts.code.AlarmFlag.Y) {
                                        p.tdCls='x-grid-record-red-blod';
                                    }
                                    return chinaplus.master.getMasterName(chinaplus.master.consts.TnmCodeCategory_ALARM_FLAG, v);
                                }
                            },
                            filter : {
                                type : 'list',
                                multiSelect : false,
                                options : chinaplus.master.getMasterByCategory(chinaplus.master.consts.TnmCodeCategory_ALARM_FLAG)
                            }
                        },{
                            xtype : 'gridcolumn',
                            text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_MaxAlarmFlag_F + '</div>',
                            align : 'center',
                            width : 145,
                            items : [{
                                    xtype : 'header',
                                    hidden : true
                                }
                            ],
                            dataIndex : 'maxAlarmF6',
                            sortable : false,
                            resizable: false,
                            renderer : function(v, p, r){
                                if (r.data.endDateF6 == null || r.data.endDateF6 == "") {
                                    p.tdCls='x-grid-record-gray';
                                    return "";
                                }
                                if (v == null || v == "") {
                                    p.tdCls='x-grid-record-red-blod';
                                    if (r.data.noCfcFlagF6*1 == chinaplus.consts.code.NoCfcFlag.Y
                                         && r.data.noPfcFlagF6*1 == chinaplus.consts.code.NoPfcFlag.Y) {
                                        return chinaplus.label.CPSSSS01_Label_NoOrderCustomerForecast;
                                    } else if(r.data.noCfcFlagF6*1 == chinaplus.consts.code.NoCfcFlag.Y) {
                                        return chinaplus.label.CPSSSS01_Label_NoCustomerForecast;
                                    } else if(r.data.noPfcFlagF6*1 == chinaplus.consts.code.NoPfcFlag.Y) {
                                        return chinaplus.label.CPSSSS01_Label_NoOrderForecast;
                                    } else {
                                        return "";
                                    }
                                } else {
                                    if(v*1 == chinaplus.consts.code.AlarmFlag.Y) {
                                        p.tdCls='x-grid-record-red-blod';
                                    }
                                    return chinaplus.master.getMasterName(chinaplus.master.consts.TnmCodeCategory_ALARM_FLAG, v);
                                }
                            },
                            filter : {
                                type : 'list',
                                multiSelect : false,
                                options : chinaplus.master.getMasterByCategory(chinaplus.master.consts.TnmCodeCategory_ALARM_FLAG)
                            }
                        },{
                            xtype : 'gridcolumn',
                            text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_LowestStockDays_F + '</div>',
                            align : 'right',
                            width : 145,
                            items : [{
                                    xtype : 'header',
                                    hidden : true
                                }
                            ],
                            dataIndex : 'minStockDayF6',
                            sortable : false,
                            resizable: false,
                            renderer : function(v, p, r){
                                if (r.data.inventoryBoxFlag*1 == chinaplus.consts.code.InventoryByBox.Y) {
                                    p.tdCls='x-grid-record-gray';
                                    return "";
                                } else {
                                    if (r.data.endDateF6 == null || r.data.endDateF6 == "") {
                                        p.tdCls='x-grid-record-gray';
                                        return "";
                                    }
                                    if (v == null || v == "") {
                                        if (r.data.noCfcFlagF6*1 == chinaplus.consts.code.NoCfcFlag.Y
                                             && r.data.noPfcFlagF6*1 == chinaplus.consts.code.NoPfcFlag.Y) {
                                            p.tdCls='x-grid-record-red-blod';
                                            return chinaplus.label.CPSSSS01_Label_NoOrderCustomerForecast;
                                        } else if(r.data.noCfcFlagF6*1 == chinaplus.consts.code.NoCfcFlag.Y) {
                                            p.tdCls='x-grid-record-red-blod';
                                            return chinaplus.label.CPSSSS01_Label_NoCustomerForecast;
                                        } else if(r.data.noPfcFlagF6*1 == chinaplus.consts.code.NoPfcFlag.Y) {
                                            p.tdCls='x-grid-record-red-blod';
                                            return chinaplus.label.CPSSSS01_Label_NoOrderForecast;
                                        } else {
                                            return "";
                                        }
                                    } else {
                                        if(r.data.noPfcMinF6*1 == chinaplus.consts.code.NoCfcFlag.N) {
                                            return TRF.util.getDecimalFormatByDigits(v, 1);
                                        } else {
                                            return "> " + TRF.util.getDecimalFormatByDigits(v, 1);
                                        }
                                    }
                                }
                            },
                            filter : 'number'
                        },{
                            xtype : 'gridcolumn',
                            text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_HighestStockDays_F + '</div>',
                            align : 'right',
                            width : 145,
                            items : [{
                                    xtype : 'header',
                                    hidden : true
                                }
                            ],
                            dataIndex : 'maxStockDayF6',
                            sortable : false,
                            resizable: false,
                            renderer : function(v, p, r){
                                if (r.data.inventoryBoxFlag*1 == chinaplus.consts.code.InventoryByBox.Y) {
                                    p.tdCls='x-grid-record-gray';
                                    return "";
                                } else {
                                    if (r.data.endDateF6 == null || r.data.endDateF6 == "") {
                                        p.tdCls='x-grid-record-gray';
                                        return "";
                                    }
                                    if (v == null || v == "") {
                                        if (r.data.noCfcFlagF6*1 == chinaplus.consts.code.NoCfcFlag.Y
                                             && r.data.noPfcFlagF6*1 == chinaplus.consts.code.NoPfcFlag.Y) {
                                            p.tdCls='x-grid-record-red-blod';
                                            return chinaplus.label.CPSSSS01_Label_NoOrderCustomerForecast;
                                        } else if(r.data.noCfcFlagF6*1 == chinaplus.consts.code.NoCfcFlag.Y) {
                                            p.tdCls='x-grid-record-red-blod';
                                            return chinaplus.label.CPSSSS01_Label_NoCustomerForecast;
                                        } else if(r.data.noPfcFlagF6*1 == chinaplus.consts.code.NoPfcFlag.Y) {
                                            p.tdCls='x-grid-record-red-blod';
                                            return chinaplus.label.CPSSSS01_Label_NoOrderForecast;
                                        } else {
                                            return "";
                                        }
                                    } else {
                                        if(r.data.noPfcMaxF6*1 == chinaplus.consts.code.NoCfcFlag.N) {
                                            return TRF.util.getDecimalFormatByDigits(v, 1);
                                        } else {
                                            return "> " + TRF.util.getDecimalFormatByDigits(v, 1);
                                        }
                                    }
                                }
                            },
                            filter : 'number'
                        },{
                            xtype : 'gridcolumn',
                            text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_LowestNoofBoxes_F + '</div>',
                            align : 'right',
                            width : 145,
                            items : [{
                                    xtype : 'header',
                                    hidden : true
                                }
                            ],
                            dataIndex : 'minBoxesF6',
                            renderer : function(v, p, r){
                                if (r.data.inventoryBoxFlag*1 == chinaplus.consts.code.InventoryByBox.N) {
                                    p.tdCls='x-grid-record-gray';
                                    return "";
                                } else {
                                    if (r.data.endDateF6 == null || r.data.endDateF6 == "") {
                                        p.tdCls='x-grid-record-gray';
                                        return "";
                                    }
                                    if (v == null || v == "") {
                                        if (r.data.noCfcFlagF6*1 == chinaplus.consts.code.NoCfcFlag.Y
                                             && r.data.noPfcFlagF6*1 == chinaplus.consts.code.NoPfcFlag.Y) {
                                            p.tdCls='x-grid-record-red-blod';
                                            return chinaplus.label.CPSSSS01_Label_NoOrderCustomerForecast;
                                        } else if(r.data.noCfcFlagF6*1 == chinaplus.consts.code.NoCfcFlag.Y) {
                                            p.tdCls='x-grid-record-red-blod';
                                            return chinaplus.label.CPSSSS01_Label_NoCustomerForecast;
                                        } else if(r.data.noPfcFlagF6*1 == chinaplus.consts.code.NoPfcFlag.Y) {
                                            p.tdCls='x-grid-record-red-blod';
                                            return chinaplus.label.CPSSSS01_Label_NoOrderForecast;
                                        } else {
                                            return "";
                                        }
                                    }
                                }
                                return TRF.util.getDecimalFormatByDigits(v, 2);
                            },
                            sortable : false,
                            resizable: false,
                            filter : 'number'
                        },{
                            xtype : 'gridcolumn',
                            text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_HighestNoofBoxes_F + '</div>',
                            align : 'right',
                            width : 145,
                            items : [{
                                    xtype : 'header',
                                    hidden : true
                                }
                            ],
                            dataIndex : 'maxBoxesF6',
                            sortable : false,
                            resizable: false,
                            renderer : function(v, p, r){
                                if (r.data.inventoryBoxFlag*1 == chinaplus.consts.code.InventoryByBox.N) {
                                    p.tdCls='x-grid-record-gray';
                                    return "";
                                } else {
                                    if (r.data.endDateF6 == null || r.data.endDateF6 == "") {
                                        p.tdCls='x-grid-record-gray';
                                        return "";
                                    }
                                    if (v == null || v == "") {
                                        if (r.data.noCfcFlagF6*1 == chinaplus.consts.code.NoCfcFlag.Y
                                             && r.data.noPfcFlagF6*1 == chinaplus.consts.code.NoPfcFlag.Y) {
                                            p.tdCls='x-grid-record-red-blod';
                                            return chinaplus.label.CPSSSS01_Label_NoOrderCustomerForecast;
                                        } else if(r.data.noCfcFlagF6*1 == chinaplus.consts.code.NoCfcFlag.Y) {
                                            p.tdCls='x-grid-record-red-blod';
                                            return chinaplus.label.CPSSSS01_Label_NoCustomerForecast;
                                        } else if(r.data.noPfcFlagF6*1 == chinaplus.consts.code.NoPfcFlag.Y) {
                                            p.tdCls='x-grid-record-red-blod';
                                            return chinaplus.label.CPSSSS01_Label_NoOrderForecast;
                                        } else {
                                            return "";
                                        }
                                    }
                                }
                                return TRF.util.getDecimalFormatByDigits(v, 2);
                            },
                            filter : 'number'
                        }
                    ]
                }
            ]
        },{
            xtype : 'gridcolumn',
            text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_Alarm3 + '</div>',
            style:'background-color:#00FF00',
            sortable : false,
            columns : [
                {
                    xtype : 'gridcolumn',
                    text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_SimulationonEndDate_3 + '</div>',
                    align : 'center',
                    width : 145,
                    items : [{
                            xtype : 'header',
                            hidden : true
                        }
                    ],
                    dataIndex : 'endDate3',
                    sortable : false,
                    resizable: false,
                    filter : 'date',
                    filterPlugins : [ {
                        ptype : 'datePickerClear'
                    } ]
                },{
                    xtype : 'gridcolumn',
                    text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_ShortageDate_3 + '</div>',
                    align : 'center',
                    width : 145,
                    items : [{
                            xtype : 'header',
                            hidden : true
                        }
                    ],
                    dataIndex : 'shortageDate3',
                    sortable : false,
                    resizable: false,
                    renderer : function(v, p, r){
                        if(r.data.endDate3 == null || r.data.endDate3 == "") {
                            p.tdCls='x-grid-record-red-blod';
                            return chinaplus.label.CPSSSS01_Label_NoCustomerForecast;
                        } else {
                            p.tdCls='x-grid-record-red-blod';
                            if (v == null || v == "") {
                                if(r.data.endCfcDate == null || r.data.endCfcDate < r.data.endDate3Comp) {
                                    return chinaplus.label.CPSSSS01_Label_NoCustomerForecast;
                                }
                            }
                        }
                        return v;
                    },
                    filter : 'date',
                    filterPlugins : [ {
                        ptype : 'datePickerClear'
                    } ]
                },{
                    xtype : 'gridcolumn',
                    text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_EndingStockDays_3 + '</div>',
                    align : 'right',
                    width : 145,
                    items : [{
                            xtype : 'header',
                            hidden : true
                        }
                    ],
                    dataIndex : 'stockDay3',
                    sortable : false,
                    resizable: false,
                    renderer : function(v, p, r){
                        if(r.data.endDate3 == null || r.data.endDate3 == "" || v == null || v == "") {
                            p.tdCls='x-grid-record-red-blod';
                            return chinaplus.label.CPSSSS01_Label_NoCustomerForecast;
                        } else {
                            var plex = "";
                            if (r.data.noMaster3*1 == chinaplus.consts.code.NoCfcFlag.Y) {
                                plex = "> ";
                            }
                            return plex  + TRF.util.getDecimalFormatByDigits(v, r.data.digit);
                        }
                        return TRF.util.getDecimalFormatByDigits(v, 1);
                    },
                    filter : 'number'
                },{
                    xtype : 'gridcolumn',
                    text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_SafetyStockFlag_3 + '</div>',
                    align : 'center',
                    width : 145,
                    items : [{
                            xtype : 'header',
                            hidden : true
                        }
                    ],
                    dataIndex : 'safetyAlarm3',
                    sortable : false,
                    resizable: false,
                    renderer : function(v, p, r){
                        if(r.data.endDate3 == null || r.data.endDate3 == "" || v == null || v == "") {
                            p.tdCls='x-grid-record-red-blod';
                            return chinaplus.label.CPSSSS01_Label_NoCustomerForecast;
                        } else {
                            if (v*1 == chinaplus.consts.code.AlarmFlag.Y) {
                                p.tdCls='x-grid-record-red-blod';
                            }
                        }
                        return chinaplus.master.getMasterName(chinaplus.master.consts.TnmCodeCategory_ALARM_FLAG, v);
                    },
                    filter : {
                        type : 'list',
                        multiSelect : false,
                        options : chinaplus.master.getMasterByCategory(chinaplus.master.consts.TnmCodeCategory_ALARM_FLAG)
                    }
                },{
                    xtype : 'gridcolumn',
                    text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_SafetyStockDaysForAlarm3_3 + '</div>',
                    align : 'right',
                    width : 145,
                    items : [{
                            xtype : 'header',
                            hidden : true
                        }
                    ],
                    dataIndex : 'orderSafetyStock',
                    sortable : false,
                    resizable: false,
                    renderer : function(v, p, r){
                        if(r.data.endDate3 == null || r.data.endDate3 == "") {
                            p.tdCls='x-grid-record-red-blod';
                            return chinaplus.label.CPSSSS01_Label_NoCustomerForecast;
                        } 
                        return TRF.util.getDecimalFormatByDigits(v, 1);
                    },
                    filter : 'number'
                },{
                    xtype : 'gridcolumn',
                    text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_AddOnQtytoShortage_3 + '</div>',
                    align : 'right',
                    width : 145,
                    items : [{
                            xtype : 'header',
                            hidden : true
                        }
                    ],
                    dataIndex : 'shortageAddOn3',
                    sortable : false,
                    resizable: false,
                    renderer : function(v, p, r){
                        if(r.data.endDate3 == null || r.data.endDate3 == "" || v == null || v == "") {
                            p.tdCls='x-grid-record-red-blod';
                            return chinaplus.label.CPSSSS01_Label_NoCustomerForecast;
                        } 
                        return TRF.util.getDecimalFormatByDigits(v, r.data.digit);
                    },
                    filter : {
                        type : 'list',
                        multiSelect : false,
                        options : chinaplus.master.getMasterByCategory(chinaplus.master.consts.TnmCodeCategory_HAS_QTY_FLAG)
                    } 
                },{
                    xtype : 'gridcolumn',
                    text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_AddOnQtytoSafety_3 + '</div>',
                    align : 'right',
                    width : 145,
                    items : [{
                            xtype : 'header',
                            hidden : true
                        }
                    ],
                    dataIndex : 'safetyAddOn3',
                    renderer : function(v, p, r){
                        if(r.data.endDate3 == null || r.data.endDate3 == "" || v == null || v == "") {
                            p.tdCls='x-grid-record-red-blod';
                            return chinaplus.label.CPSSSS01_Label_NoCustomerForecast;
                        } 
                        return TRF.util.getDecimalFormatByDigits(v, r.data.digit);
                    },
                    sortable : false,
                    resizable: false,
                    filter : {
                        type : 'list',
                        multiSelect : false,
                        options : chinaplus.master.getMasterByCategory(chinaplus.master.consts.TnmCodeCategory_HAS_QTY_FLAG)
                    } 
                }
            ]
        },{
            xtype : 'gridcolumn',
            text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_Alarm4 + '</div>',
            style:'background-color:#00FF00',
            sortable : false,
            columns : [
                {
                    xtype : 'gridcolumn',
                    text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_RatioDate_4 + '</div>',
                    align : 'center',
                    width : 160,
                    items : [{
                            xtype : 'header',
                            hidden : true
                        }
                    ],
                    dataIndex : 'overRatioDate4',
                    sortable : false,
                    resizable: false,
                    filter : 'date',
                    renderer : function(v, p, r){
                        if(r.data.totalCfcQty4 == null || r.data.totalCfcQty4 == "") {
                            p.tdCls='x-grid-record-red-blod';
                            return chinaplus.label.CPSSSS01_Label_NoCustomerForecast;
                        }
                        return v;
                    },
                    filterPlugins : [ {
                        ptype : 'datePickerClear'
                    } ]
                },{
                    xtype : 'gridcolumn',
                    text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_Comparison_4 + '</div>',
                    align : 'right',
                    width : 160,
                    items : [{
                            xtype : 'header',
                            hidden : true
                        }
                    ],
                    dataIndex : 'fluctuationRatio4',
                    sortable : false,
                    resizable: false,
                    renderer : function(v, p, r){
                        if(r.data.totalCfcQty4 == null || r.data.totalCfcQty4 == "") {
                            p.tdCls='x-grid-record-red-blod';
                            return chinaplus.label.CPSSSS01_Label_NoCustomerForecast;
                        }
                        return TRF.util.getDecimalFormatByDigits(v, 1) + "%";
                    },
                    filter : 'number'
                },{
                    xtype : 'gridcolumn',
                    text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_TheGapValue_4 + '</div>',
                    align : 'right',
                    width : 160,
                    items : [{
                            xtype : 'header',
                            hidden : true
                        }
                    ],
                    dataIndex : 'gapValue4',
                    sortable : false,
                    resizable: false,
                    renderer : function(v, p, r){
                        if(r.data.totalCfcQty4 == null || r.data.totalCfcQty4 == "") {
                            p.tdCls='x-grid-record-red-blod';
                            return chinaplus.label.CPSSSS01_Label_NoCustomerForecast;
                        }
                        return TRF.util.getDecimalFormatByDigits(v, r.data.digit);
                    },
                    filter : {
                        type : 'list',
                        multiSelect : false,
                        options : chinaplus.master.getMasterByCategory(chinaplus.master.consts.TnmCodeCategory_HAS_QTY_FLAG)
                    }   
                }
            ]
        },{
            xtype : 'gridcolumn',
            text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_AlarmMasterData + '</div>',
            style:'background-color:#FFFF99',
            sortable : false,
            columns : [
                {
                    xtype : 'gridcolumn',
                    text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_MinStockDays + '</div>',
                    align : 'right',
                    width : 120,
                    items : [{
                            xtype : 'header',
                            hidden : true
                        }
                    ],
                    dataIndex : 'minStock',
                    sortable : false,
                    resizable: false,
                    renderer : function(v, p, r){
                        if (r.data.inventoryBoxFlag*1 == chinaplus.consts.code.InventoryByBox.Y) {
                            p.tdCls='x-grid-record-gray';
                            return "";
                        }
                        return TRF.util.getDecimalFormatByDigits(v, 1);
                    }
                },{
                    xtype : 'gridcolumn',
                    text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_MaxStockDays + '</div>',
                    align : 'right',
                    width : 120,
                    items : [{
                            xtype : 'header',
                            hidden : true
                        }
                    ],
                    dataIndex : 'maxStock',
                    sortable : false,
                    resizable: false,
                    renderer : function(v, p, r){
                        if (r.data.inventoryBoxFlag*1 == chinaplus.consts.code.InventoryByBox.Y) {
                            p.tdCls='x-grid-record-gray';
                            return "";
                        }
                        return TRF.util.getDecimalFormatByDigits(v, 1);
                    }
                },{
                    xtype : 'gridcolumn',
                    text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_MinStockBoxes + '</div>',
                    align : 'right',
                    width : 120,
                    items : [{
                            xtype : 'header',
                            hidden : true
                        }
                    ],
                    dataIndex : 'minBox',
                    sortable : false,
                    resizable: false,
                    renderer : function(v, p, r){
                        if (r.data.inventoryBoxFlag*1 == chinaplus.consts.code.InventoryByBox.N) {
                            p.tdCls='x-grid-record-gray';
                            return "";
                        }
                        return TRF.util.getDecimalFormatByDigits(v, 2);
                    }
                },{
                    xtype : 'gridcolumn',
                    text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_MaxStockBoxes + '</div>',
                    align : 'right',
                    width : 120,
                    items : [{
                            xtype : 'header',
                            hidden : true
                        }
                    ],
                    dataIndex : 'maxBox',
                    sortable : false,
                    resizable: false,
                    renderer : function(v, p, r){
                        if (r.data.inventoryBoxFlag*1 == chinaplus.consts.code.InventoryByBox.N) {
                            p.tdCls='x-grid-record-gray';
                            return "";
                        }
                        return TRF.util.getDecimalFormatByDigits(v, 2);
                    }
                },{
                    xtype : 'gridcolumn',
                    text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_IncludeCustomerStockFlag + '</div>',
                    align : 'center',
                    width : 120,
                    items : [{
                            xtype : 'header',
                            hidden : true
                        }
                    ],
                    dataIndex : 'saCustStockFlag',
                    renderer : function(value){
                        return chinaplus.master.getMasterName(chinaplus.master.consts.TnmCodeCategory_CUSTOMER_STOCK_FLAG, value);
                    },
                    sortable : false,
                    resizable: false,
                    filter : {
                        type : 'list',
                        multiSelect : false,
                        options : chinaplus.master.getMasterByCategory(chinaplus.master.consts.TnmCodeCategory_CUSTOMER_STOCK_FLAG)
                    }
                }
            ]
        },{
            xtype : 'gridcolumn',
            text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_ImpOutboundPlanInput + '</div>',
            align : 'center',
            width : 120,
            items : [{
                    xtype : 'header',
                    hidden : true
                }
            ],
            dataIndex : 'lastObActualDate',
            sortable : false,
            resizable: false,
            filter : 'date',
            filterPlugins : [ {
                ptype : 'datePickerClear'
            } ]
        },{
            xtype : 'gridcolumn',
            text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_BuildOutData + '</div>',
            style:'background-color:#CC99FF',
            sortable : false,
            columns : [
                {
                    xtype : 'gridcolumn',
                    text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_Build_outFlag + '</div>',
                    align : 'center',
                    width : 120,
                    items : [{
                            xtype : 'header',
                            hidden : true
                        }
                    ],
                    dataIndex : 'buildOutFlag',
                    sortable : false,
                    resizable: false,
                    filter : {
                        type : 'list',
                        multiSelect : false,
                        options : chinaplus.master.getMasterByCategory(chinaplus.master.consts.TnmCodeCategory_BUILD_OUT_INDICATOR)
                    }
                },{
                    xtype : 'gridcolumn',
                    text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_Build_outMonth + '</div>',
                    align : 'center',
                    width : 120,
                    items : [{
                            xtype : 'header',
                            hidden : true
                        }
                    ],
                    dataIndex : 'buildOutMonth',
                    sortable : false,
                    resizable: false,
                    filter : 'date',
                    filterPlugins : [ {
                        ptype : 'monthPicker'
                    } ],
                    filterValueGen : function(value) {
                        var dateInfo = value.split('-');
                        return dateInfo[0] + dateInfo[1];
                    }
                },{
                    xtype : 'gridcolumn',
                    text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_LastTTCImpOrderMonth + '</div>',
                    align : 'center',
                    width : 120,
                    items : [{
                            xtype : 'header',
                            hidden : true
                        }
                    ],
                    dataIndex : 'lastOrderMonth',
                    sortable : false,
                    resizable: false,
                    filter : 'date',
                    filterPlugins : [ {
                        ptype : 'monthPicker'
                    } ],
                    filterValueGen : function(value) {
                        var dateInfo = value.split('-');
                        return dateInfo[0] + dateInfo[1];
                    }
                },{
                    xtype : 'gridcolumn',
                    text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_LastSupplierDeliveryMonth + '</div>',
                    align : 'center',
                    width : 120,
                    items : [{
                            xtype : 'header',
                            hidden : true
                        }
                    ],
                    dataIndex : 'lastDeliveryMonth',
                    sortable : false,
                    resizable: false,
                    filter : 'date',
                    filterPlugins : [ {
                        ptype : 'monthPicker'
                    } ],
                    filterValueGen : function(value) {
                        var dateInfo = value.split('-');
                        return dateInfo[0] + dateInfo[1];
                    }
                }
            ]
        },{
            xtype : 'gridcolumn',
            text : '<div class="x-grid-title" style="text-align:center">' + chinaplus.label.CPSSSS01_Grid_DiscontinueIndicator + '</div>',
            align : 'center',
            width : 120,
            items : [{
                    xtype : 'header',
                    hidden : true
                }
            ],
            dataIndex : 'inActiveFlag',
            sortable : false,
            resizable: false,
            filter : {
                type : 'list',
                multiSelect : false,
                options : chinaplus.master.getMasterByCategory(chinaplus.master.consts.TnmCodeCategory_DiscontinueIndicator)
            }
        }
    ],
    tbar : [{
        text : chinaplus.label.CPSSSS01_Button_DownloadStockStatus,
        iconCls : 'btn-download',
        id : chinaplus.screen.CPSSSS01 + '_Button_DownloadStockStatus',
        handler : function() {
            CPSSSS01.downloadStockStatusFunc();
        }
    },{
        text : chinaplus.label.CPSSSS01_Button_DownloadSimpleStockStatus,
        iconCls : 'btn-download',
        id : chinaplus.screen.CPSSSS01 + '_Button_DownloadSimpleStockStatus',
        handler : function() {
            CPSSSS01.downloadSimpleStockStatusFunc();
        }
    },{
        text : chinaplus.label.CPSSSS01_Button_DownloadRundownSingle,
        iconCls : 'btn-download',
        id : chinaplus.screen.CPSSSS01 + '_Button_DownloadRundownSingle',
        handler : function() {
            CPSSSS01.downloadRundownSingleFunc();
        }
    },{
        text : chinaplus.label.CPSSSS01_Button_DownloadRundownAll,
        iconCls : 'btn-download',
        id : chinaplus.screen.CPSSSS01 + '_Button_DownloadRundownAll',
        handler : function() {
            CPSSSS01.downloadRundownAllFunc();
        }
    },{
        text : chinaplus.label.CPSSSS01_Button_RundownHistoryDownload,
        iconCls : 'btn-download-2',
        id : chinaplus.screen.CPSSSS01 + '_Button_RundownHistoryDownload',
        handler : function() {
            CPSSSS01.rundownHistoryDownloadFunc();
        }
    },{
        text : chinaplus.label.CPSSSS01_Button_UploadRundown,
        iconCls : 'btn-upload-2',
        id : chinaplus.screen.CPSSSS01 + '_Button_UploadRundown',
        handler : function() {
            CPSSSS01.uploadRundownFunc();
        }
    },{
        text : chinaplus.label.CPSSSS01_Button_Refresh,
        iconCls : 'btn-refresh',
        id : chinaplus.screen.CPSSSS01 + '_Button_Refresh',
        handler : function() {
            CPSSSS01.refreshStockStatus();
        }
    }],
    store : TRF.util.createStore(chinaplus.screen.CPSSSS01, 'sa/CPSSSS01/getStockStatusList', 'StockStatusListModel', chinaplus.screen.CPSSSS01 + '_StockStatusListStore'),

    /**
     * The initialize function.
     *
     * @param params.
     *            the parameter object passed to this screen.
     */
    initialize : function () {
    
        // grid.getColumnModel().setHidden(1,true);  
        var me = this;
        var gridStore = me.store;
        
        // load store
        TRF.util.dataLoadStart(chinaplus.screen.CPSSSS01);
        /*TRF.util.loadStore(gridStore, null, function() {
            TRF.util.dataLoadEnd(chinaplus.screen.CPSSSS01);
            gridStore.on('beforeload', function() {
                TRF.core.mask(TRF.core.maskMsg.load, null, me);
            });
            gridStore.on('load', function() {
                TRF.core.unmask(me);
            });
        });
        */
        gridStore.on('beforeload', function() {
            TRF.core.mask(TRF.core.maskMsg.load, null, me);
        });
        gridStore.on('load', function() {
            TRF.core.unmask(me);
        });
        TRF.util.dataLoadEnd(chinaplus.screen.CPSSSS01);
        
        // dolayout
        this.doLayout();
        TRF.util.addGridTip(this);
    },
    
    /**
     * download Stock Status Function.
     */
    downloadStockStatusFunc : function () {

        // Select Check
        var selectionArray = Ext.getCmp(chinaplus.screen.CPSSSS01).getSelectionModel().getSelection();
        /*if (selectionArray.length == 0) {
            TRF.util.showMessageBoxByMsgIdAndArgs('w1011');
            return;
        }*/

        // Download
        var stockStatusIdsArray = [];
        selectionArray.forEach(function(record) {
                    stockStatusIdsArray.push(record.data.stockStatusId);
                });
        var params = {};
        params["stockStatusIds"] = stockStatusIdsArray;

        TRF.util.downloadSubmit(null, chinaplus.screen.CPSSSS01, "sa/CPSSSF01/downloadcheck", params, "sa/CPSSSF01/download");
    },
         
    /**
     * download Simple Stock Status Function.
     */   
    downloadSimpleStockStatusFunc : function () {

        // Select Check
        var selectionArray = Ext.getCmp(chinaplus.screen.CPSSSS01).getSelectionModel().getSelection();
        /*if (selectionArray.length == 0) {
            TRF.util.showMessageBoxByMsgIdAndArgs('w1011');
            return;
        }*/

        // Download
        var stockStatusIdsArray = [];
        selectionArray.forEach(function(record) {
                    stockStatusIdsArray.push(record.data.stockStatusId);
                });
        var params = {};
        params["stockStatusIds"] = stockStatusIdsArray;

        TRF.util.downloadSubmit(null, chinaplus.screen.CPSSSS01, "sa/CPSSSF02/downloadcheck", params, "sa/CPSSSF02/download");
    },
    
    /**
     * download Rundown Single Function.
     */     
    downloadRundownSingleFunc : function () {

        // Select Check
        var selectionArray = Ext.getCmp(chinaplus.screen.CPSSSS01).getSelectionModel().getSelection();
        /*if (selectionArray.length == 0) {
            TRF.util.showMessageBoxByMsgIdAndArgs('w1011');
            return;
        }*/

        // Download
        var stockStatusIdsArray = [];
        selectionArray.forEach(function(record) {
            stockStatusIdsArray.push(record.data.stockStatusId);
        });
        var params = {};
        params["stockStatusIds"] = stockStatusIdsArray;

        TRF.util.downloadSubmit(null, chinaplus.screen.CPSSSS01, "sa/CPSRDF02/downloadcheck", params, "sa/CPSRDF02/download");
    },

    /**
     * download Rundown All Function.
     */    
    downloadRundownAllFunc : function () {

        // Select Check
        var selectionArray = Ext.getCmp(chinaplus.screen.CPSSSS01).getSelectionModel().getSelection();
        /*if (selectionArray.length == 0) {
            TRF.util.showMessageBoxByMsgIdAndArgs('w1011');
            return;
        }*/

        // Download
        var stockStatusIdsArray = [];
        selectionArray.forEach(function(record) {
            stockStatusIdsArray.push(record.data.stockStatusId);
        });
        var params = {};
        params["stockStatusIds"] = stockStatusIdsArray;

        TRF.util.downloadSubmit(null, chinaplus.screen.CPSSSS01, "sa/CPSRDF01/downloadcheck", params, "sa/CPSRDF01/download");
    },
    
    /**
     * download Rundown history Function.
     */ 
    rundownHistoryDownloadFunc : function () {
    
        // popup
        TRF.util.popupApplication(chinaplus.screen.CPSRDS01, chinaplus.screen.CPSRDS01, {}, '635*300');
    },
        
    /**
     * upload Rundown Function.
     */
    uploadRundownFunc : function () {
        // popup
        TRF.util.popupApplication(chinaplus.screen.CPSRDS02, chinaplus.screen.CPSRDS02, {}, '600*220');
    },
            
    /**
     * upload Rundown Function.
     */
    refreshStockStatus : function () {
    
        // get this
        var me = this;
        // var back function
        var backFun = function(applicationData) {
            if(applicationData.success){
                var lsMsgs = TRF.util.getMessage('i1004', ['CPSSSS01_Button_Refresh']);
                TRF.util.showMessageBoxL(TRF.cnst.MESSAGEBOX_TYPE_INFO, lsMsgs, lsMsgs, 
                    function() { 
                        // me.store.loadPage(1);
                        me.store.removeAll();   
                   });
            }
        };
    
        // do confirm
        var confirmMsg = TRF.util.getMessage('c1001', ['CPSSSS01_Button_Refresh']);
        TRF.util.showMessageBoxL(TRF.cnst.MESSAGEBOX_TYPE_QUESTION, confirmMsg, [], 
             function(btn) {
                if (btn == 'yes') {
                    // popup
                    TRF.util.ajaxSubmit(backFun, chinaplus.screen.CPSRDS02, "sa/CPSSSS01/refreshStockStatus", null, null);
                    //Ext.getCmp(chinaplus.screen.CPSSSS01 + '_Button_Refresh').disabled = true;
                }
             }
         );
    }
}